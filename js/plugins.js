!function(t,e,o){"use strict";var i,n,r,s=t.document,a=t.Modernizr,l=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},c="Moz Webkit O Ms".split(" "),h=function(t){var e,o=s.documentElement.style;if("string"==typeof o[t])return t;t=l(t);for(var i=0,n=c.length;i<n;i++)if("string"==typeof o[e=c[i]+t])return e},d=h("transform"),u=h("transitionProperty"),p={csstransforms:function(){return!!d},csstransforms3d:function(){var t=!!h("perspective");if(t){var o="@media ("+" -o- -moz- -ms- -webkit- -khtml- ".split(" ").join("transform-3d),(")+"modernizr)",i=e("<style>"+o+"{#modernizr{height:3px}}</style>").appendTo("head"),n=e('<div id="modernizr" />').appendTo("html");t=3===n.height(),n.remove(),i.remove()}return t},csstransitions:function(){return!!u}};if(a)for(i in p)a.hasOwnProperty(i)||a.addTest(i,p[i]);else{a=t.Modernizr={_version:"1.6ish: miniModernizr for Isotope"};var f,m=" ";for(i in p)f=p[i](),a[i]=f,m+=" "+(f?"":"no-")+i;e("html").addClass(m)}if(a.csstransforms){var g=a.csstransforms3d?{translate:function(t){return"translate3d("+t[0]+"px, "+t[1]+"px, 0) "},scale:function(t){return"scale3d("+t+", "+t+", 1) "}}:{translate:function(t){return"translate("+t[0]+"px, "+t[1]+"px) "},scale:function(t){return"scale("+t+") "}},w=function(t,o,i){var n,r,s=e.data(t,"isoTransform")||{},a={},l={};for(n in a[o]=i,e.extend(s,a),s)r=s[n],l[n]=g[n](r);var c=(l.translate||"")+(l.scale||"");e.data(t,"isoTransform",s),t.style[d]=c};e.cssNumber.scale=!0,e.cssHooks.scale={set:function(t,e){w(t,"scale",e)},get:function(t,o){var i=e.data(t,"isoTransform");return i&&i.scale?i.scale:1}},e.fx.step.scale=function(t){e.cssHooks.scale.set(t.elem,t.now+t.unit)},e.cssNumber.translate=!0,e.cssHooks.translate={set:function(t,e){w(t,"translate",e)},get:function(t,o){var i=e.data(t,"isoTransform");return i&&i.translate?i.translate:[0,0]}}}a.csstransitions&&(n={WebkitTransitionProperty:"webkitTransitionEnd",MozTransitionProperty:"transitionend",OTransitionProperty:"oTransitionEnd otransitionend",transitionProperty:"transitionend"}[u],r=h("transitionDuration"));var v,y=e.event,b=e.event.handle?"handle":"dispatch";y.special.smartresize={setup:function(){e(this).bind("resize",y.special.smartresize.handler)},teardown:function(){e(this).unbind("resize",y.special.smartresize.handler)},handler:function(t,e){var o=this,i=arguments;t.type="smartresize",v&&clearTimeout(v),v=setTimeout(function(){y[b].apply(o,i)},"execAsap"===e?0:100)}},e.fn.smartresize=function(t){return t?this.bind("smartresize",t):this.trigger("smartresize",["execAsap"])},e.Isotope=function(t,o,i){this.element=e(o),this._create(t),this._init(i)};var x=["width","height"],S=e(t);e.Isotope.settings={resizable:!0,layoutMode:"masonry",containerClass:"isotope",itemClass:"isotope-item",hiddenClass:"isotope-hidden",hiddenStyle:{opacity:0,scale:.001},visibleStyle:{opacity:1,scale:1},containerStyle:{position:"relative",overflow:"hidden"},animationEngine:"best-available",animationOptions:{queue:!1,duration:800},sortBy:"original-order",sortAscending:!0,resizesContainer:!0,transformsEnabled:!0,itemPositionDataEnabled:!1},e.Isotope.prototype={_create:function(t){this.options=e.extend({},e.Isotope.settings,t),this.styleQueue=[],this.elemCount=0;var o=this.element[0].style;this.originalStyle={};var i=x.slice(0);for(var n in this.options.containerStyle)i.push(n);for(var r=0,s=i.length;r<s;r++)n=i[r],this.originalStyle[n]=o[n]||"";this.element.css(this.options.containerStyle),this._updateAnimationEngine(),this._updateUsingTransforms();var a={"original-order":function(t,e){return e.elemCount++,e.elemCount},random:function(){return Math.random()}};this.options.getSortData=e.extend(this.options.getSortData,a),this.reloadItems(),this.offset={left:parseInt(this.element.css("padding-left")||0,10),top:parseInt(this.element.css("padding-top")||0,10)};var l=this;setTimeout(function(){l.element.addClass(l.options.containerClass)},0),this.options.resizable&&S.bind("smartresize.isotope",function(){l.resize()}),this.element.delegate("."+this.options.hiddenClass,"click",function(){return!1})},_getAtoms:function(t){var e=this.options.itemSelector,o=e?t.filter(e).add(t.find(e)):t,i={position:"absolute"};return o=o.filter(function(t,e){return 1===e.nodeType}),this.usingTransforms&&(i.left=0,i.top=0),o.css(i).addClass(this.options.itemClass),this.updateSortData(o,!0),o},_init:function(t){this.$filteredAtoms=this._filter(this.$allAtoms),this._sort(),this.reLayout(t)},option:function(t){var o;if(e.isPlainObject(t))for(var i in this.options=e.extend(!0,this.options,t),t)this[o="_update"+l(i)]&&this[o]()},_updateAnimationEngine:function(){var t;switch(this.options.animationEngine.toLowerCase().replace(/[ _\-]/g,"")){case"css":case"none":t=!1;break;case"jquery":t=!0;break;default:t=!a.csstransitions}this.isUsingJQueryAnimation=t,this._updateUsingTransforms()},_updateTransformsEnabled:function(){this._updateUsingTransforms()},_updateUsingTransforms:function(){var t=this.usingTransforms=this.options.transformsEnabled&&a.csstransforms&&a.csstransitions&&!this.isUsingJQueryAnimation;t||(delete this.options.hiddenStyle.scale,delete this.options.visibleStyle.scale),this.getPositionStyles=t?this._translate:this._positionAbs},_filter:function(t){var e=""===this.options.filter?"*":this.options.filter;if(!e)return t;var o=this.options.hiddenClass,i="."+o,n=t.filter(i),r=n;if("*"!==e){r=n.filter(e);var s=t.not(i).not(e).addClass(o);this.styleQueue.push({$el:s,style:this.options.hiddenStyle})}return this.styleQueue.push({$el:r,style:this.options.visibleStyle}),r.removeClass(o),t.filter(e)},updateSortData:function(t,o){var i,n,r=this,s=this.options.getSortData;t.each(function(){for(var t in i=e(this),n={},s)n[t]=o||"original-order"!==t?s[t](i,r):e.data(this,"isotope-sort-data")[t];e.data(this,"isotope-sort-data",n)})},_sort:function(){var t=this.options.sortBy,e=this._getSorter,o=this.options.sortAscending?1:-1;this.$filteredAtoms.sort(function(i,n){var r=e(i,t),s=e(n,t);return r===s&&"original-order"!==t&&(r=e(i,"original-order"),s=e(n,"original-order")),(r>s?1:r<s?-1:0)*o})},_getSorter:function(t,o){return e.data(t,"isotope-sort-data")[o]},_translate:function(t,e){return{translate:[t,e]}},_positionAbs:function(t,e){return{left:t,top:e}},_pushPosition:function(t,e,o){e=Math.round(e+this.offset.left),o=Math.round(o+this.offset.top);var i=this.getPositionStyles(e,o);this.styleQueue.push({$el:t,style:i}),this.options.itemPositionDataEnabled&&t.data("isotope-item-position",{x:e,y:o})},layout:function(t,e){var o=this.options.layoutMode;if(this["_"+o+"Layout"](t),this.options.resizesContainer){var i=this["_"+o+"GetContainerSize"]();this.styleQueue.push({$el:this.element,style:i})}this._processStyleQueue(t,e),this.isLaidOut=!0},_processStyleQueue:function(t,o){var i,s,l,c,h=this.isLaidOut&&this.isUsingJQueryAnimation?"animate":"css",d=this.options.animationOptions,u=this.options.onLayout;if(s=function(t,e){e.$el[h](e.style,d)},this._isInserting&&this.isUsingJQueryAnimation)s=function(t,e){i=e.$el.hasClass("no-transition")?"css":h,e.$el[i](e.style,d)};else if(o||u||d.complete){var p=!1,f=[o,u,d.complete],m=this;if(l=!0,c=function(){if(!p){for(var e,o=0,i=f.length;o<i;o++)"function"==typeof(e=f[o])&&e.call(m.element,t,m);p=!0}},this.isUsingJQueryAnimation&&"animate"===h)d.complete=c,l=!1;else if(a.csstransitions){for(var g,w=0,v=this.styleQueue[0],y=v&&v.$el;!y||!y.length;){if(!(g=this.styleQueue[w++]))return;y=g.$el}parseFloat(getComputedStyle(y[0])[r])>0&&(s=function(t,e){e.$el[h](e.style,d).one(n,c)},l=!1)}}e.each(this.styleQueue,s),l&&c(),this.styleQueue=[]},resize:function(){this["_"+this.options.layoutMode+"ResizeChanged"]()&&this.reLayout()},reLayout:function(t){this["_"+this.options.layoutMode+"Reset"](),this.layout(this.$filteredAtoms,t)},addItems:function(t,e){var o=this._getAtoms(t);this.$allAtoms=this.$allAtoms.add(o),e&&e(o)},insert:function(t,e){this.element.append(t);var o=this;this.addItems(t,function(t){var i=o._filter(t);o._addHideAppended(i),o._sort(),o.reLayout(),o._revealAppended(i,e)})},appended:function(t,e){var o=this;this.addItems(t,function(t){o._addHideAppended(t),o.layout(t),o._revealAppended(t,e)})},_addHideAppended:function(t){this.$filteredAtoms=this.$filteredAtoms.add(t),t.addClass("no-transition"),this._isInserting=!0,this.styleQueue.push({$el:t,style:this.options.hiddenStyle})},_revealAppended:function(t,e){var o=this;setTimeout(function(){t.removeClass("no-transition"),o.styleQueue.push({$el:t,style:o.options.visibleStyle}),o._isInserting=!1,o._processStyleQueue(t,e)},10)},reloadItems:function(){this.$allAtoms=this._getAtoms(this.element.children())},remove:function(t,e){this.$allAtoms=this.$allAtoms.not(t),this.$filteredAtoms=this.$filteredAtoms.not(t);var o=this,i=function(){t.remove(),e&&e.call(o.element)};t.filter(":not(."+this.options.hiddenClass+")").length?(this.styleQueue.push({$el:t,style:this.options.hiddenStyle}),this._sort(),this.reLayout(i)):i()},shuffle:function(t){this.updateSortData(this.$allAtoms),this.options.sortBy="random",this._sort(),this.reLayout(t)},destroy:function(){var t=this.usingTransforms,e=this.options;this.$allAtoms.removeClass(e.hiddenClass+" "+e.itemClass).each(function(){var e=this.style;e.position="",e.top="",e.left="",e.opacity="",t&&(e[d]="")});var o=this.element[0].style;for(var i in this.originalStyle)o[i]=this.originalStyle[i];this.element.unbind(".isotope").undelegate("."+e.hiddenClass,"click").removeClass(e.containerClass).removeData("isotope"),S.unbind(".isotope")},_getSegments:function(t){var e,o=this.options.layoutMode,i=t?"rowHeight":"columnWidth",n=t?"height":"width",r=t?"rows":"cols",s=this.element[n](),a=this.options[o]&&this.options[o][i]||this.$filteredAtoms["outer"+l(n)](!0)||s;e=Math.floor(s/a),e=Math.max(e,1),this[o][r]=e,this[o][i]=a},_checkIfSegmentsChanged:function(t){var e=this.options.layoutMode,o=t?"rows":"cols",i=this[e][o];return this._getSegments(t),this[e][o]!==i},_masonryReset:function(){this.masonry={},this._getSegments();var t=this.masonry.cols;for(this.masonry.colYs=[];t--;)this.masonry.colYs.push(0)},_masonryLayout:function(t){var o=this,i=o.masonry;t.each(function(){var t=e(this),n=Math.ceil(t.outerWidth(!0)/i.columnWidth);if(1===(n=Math.min(n,i.cols)))o._masonryPlaceBrick(t,i.colYs);else{var r,s,a=i.cols+1-n,l=[];for(s=0;s<a;s++)r=i.colYs.slice(s,s+n),l[s]=Math.max.apply(Math,r);o._masonryPlaceBrick(t,l)}})},_masonryPlaceBrick:function(t,e){for(var o=Math.min.apply(Math,e),i=0,n=0,r=e.length;n<r;n++)if(e[n]===o){i=n;break}var s=this.masonry.columnWidth*i,a=o;this._pushPosition(t,s,a);var l=o+t.outerHeight(!0),c=this.masonry.cols+1-r;for(n=0;n<c;n++)this.masonry.colYs[i+n]=l},_masonryGetContainerSize:function(){return{height:Math.max.apply(Math,this.masonry.colYs)}},_masonryResizeChanged:function(){return this._checkIfSegmentsChanged()},_fitRowsReset:function(){this.fitRows={x:0,y:0,height:0}},_fitRowsLayout:function(t){var o=this,i=this.element.width(),n=this.fitRows;t.each(function(){var t=e(this),r=t.outerWidth(!0),s=t.outerHeight(!0);0!==n.x&&r+n.x>i&&(n.x=0,n.y=n.height),o._pushPosition(t,n.x,n.y),n.height=Math.max(n.y+s,n.height),n.x+=r})},_fitRowsGetContainerSize:function(){return{height:this.fitRows.height}},_fitRowsResizeChanged:function(){return!0},_cellsByRowReset:function(){this.cellsByRow={index:0},this._getSegments(),this._getSegments(!0)},_cellsByRowLayout:function(t){var o=this,i=this.cellsByRow;t.each(function(){var t=e(this),n=i.index%i.cols,r=Math.floor(i.index/i.cols),s=(n+.5)*i.columnWidth-t.outerWidth(!0)/2,a=(r+.5)*i.rowHeight-t.outerHeight(!0)/2;o._pushPosition(t,s,a),i.index++})},_cellsByRowGetContainerSize:function(){return{height:Math.ceil(this.$filteredAtoms.length/this.cellsByRow.cols)*this.cellsByRow.rowHeight+this.offset.top}},_cellsByRowResizeChanged:function(){return this._checkIfSegmentsChanged()},_straightDownReset:function(){this.straightDown={y:0}},_straightDownLayout:function(t){var o=this;t.each(function(t){var i=e(this);o._pushPosition(i,0,o.straightDown.y),o.straightDown.y+=i.outerHeight(!0)})},_straightDownGetContainerSize:function(){return{height:this.straightDown.y}},_straightDownResizeChanged:function(){return!0},_masonryHorizontalReset:function(){this.masonryHorizontal={},this._getSegments(!0);var t=this.masonryHorizontal.rows;for(this.masonryHorizontal.rowXs=[];t--;)this.masonryHorizontal.rowXs.push(0)},_masonryHorizontalLayout:function(t){var o=this,i=o.masonryHorizontal;t.each(function(){var t=e(this),n=Math.ceil(t.outerHeight(!0)/i.rowHeight);if(1===(n=Math.min(n,i.rows)))o._masonryHorizontalPlaceBrick(t,i.rowXs);else{var r,s,a=i.rows+1-n,l=[];for(s=0;s<a;s++)r=i.rowXs.slice(s,s+n),l[s]=Math.max.apply(Math,r);o._masonryHorizontalPlaceBrick(t,l)}})},_masonryHorizontalPlaceBrick:function(t,e){for(var o=Math.min.apply(Math,e),i=0,n=0,r=e.length;n<r;n++)if(e[n]===o){i=n;break}var s=o,a=this.masonryHorizontal.rowHeight*i;this._pushPosition(t,s,a);var l=o+t.outerWidth(!0),c=this.masonryHorizontal.rows+1-r;for(n=0;n<c;n++)this.masonryHorizontal.rowXs[i+n]=l},_masonryHorizontalGetContainerSize:function(){return{width:Math.max.apply(Math,this.masonryHorizontal.rowXs)}},_masonryHorizontalResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_fitColumnsReset:function(){this.fitColumns={x:0,y:0,width:0}},_fitColumnsLayout:function(t){var o=this,i=this.element.height(),n=this.fitColumns;t.each(function(){var t=e(this),r=t.outerWidth(!0),s=t.outerHeight(!0);0!==n.y&&s+n.y>i&&(n.x=n.width,n.y=0),o._pushPosition(t,n.x,n.y),n.width=Math.max(n.x+r,n.width),n.y+=s})},_fitColumnsGetContainerSize:function(){return{width:this.fitColumns.width}},_fitColumnsResizeChanged:function(){return!0},_cellsByColumnReset:function(){this.cellsByColumn={index:0},this._getSegments(),this._getSegments(!0)},_cellsByColumnLayout:function(t){var o=this,i=this.cellsByColumn;t.each(function(){var t=e(this),n=Math.floor(i.index/i.rows),r=i.index%i.rows,s=(n+.5)*i.columnWidth-t.outerWidth(!0)/2,a=(r+.5)*i.rowHeight-t.outerHeight(!0)/2;o._pushPosition(t,s,a),i.index++})},_cellsByColumnGetContainerSize:function(){return{width:Math.ceil(this.$filteredAtoms.length/this.cellsByColumn.rows)*this.cellsByColumn.columnWidth}},_cellsByColumnResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_straightAcrossReset:function(){this.straightAcross={x:0}},_straightAcrossLayout:function(t){var o=this;t.each(function(t){var i=e(this);o._pushPosition(i,o.straightAcross.x,0),o.straightAcross.x+=i.outerWidth(!0)})},_straightAcrossGetContainerSize:function(){return{width:this.straightAcross.x}},_straightAcrossResizeChanged:function(){return!0}},e.fn.imagesLoaded=function(t){function o(){t.call(i,n)}var i=this,n=i.find("img").add(i.filter("img")),r=n.length,s="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",a=[];return r||o(),n.bind("load.imagesLoaded error.imagesLoaded",function t(i){var l=i.target;l.src!==s&&-1===e.inArray(l,a)&&(a.push(l),--r<=0&&(setTimeout(o),n.unbind(".imagesLoaded",t)))}).each(function(){var t=this.src;this.src=s,this.src=t}),i};var z=function(e){t.console&&t.console.error(e)};e.fn.isotope=function(t,o){if("string"==typeof t){var i=Array.prototype.slice.call(arguments,1);this.each(function(){var o=e.data(this,"isotope");o?e.isFunction(o[t])&&"_"!==t.charAt(0)?o[t].apply(o,i):z("no such method '"+t+"' for isotope instance"):z("cannot call methods on isotope prior to initialization; attempted to call method '"+t+"'")})}else this.each(function(){var i=e.data(this,"isotope");i?(i.option(t),i._init(o)):e.data(this,"isotope",new e.Isotope(t,this,o))});return this}}(window,jQuery),function(){var t=[].indexOf||function(t){for(var e=0,o=this.length;e<o;e++)if(e in this&&this[e]===t)return e;return-1},e=[].slice;!function(t,e){"function"==typeof define&&define.amd?define("waypoints",["jquery"],function(o){return e(o,t)}):e(t.jQuery,t)}(this,function(o,i){var n,r,s,a,l,c,h,d,u,p,f,m,g,w,v,y;return n=o(i),d=t.call(i,"ontouchstart")>=0,a={horizontal:{},vertical:{}},l=1,h={},c="waypoints-context-id",f="resize.waypoints",m="scroll.waypoints",g=1,w="waypoints-waypoint-ids",v="waypoint",y="waypoints",r=function(){function t(t){var e=this;this.$element=t,this.element=t[0],this.didResize=!1,this.didScroll=!1,this.id="context"+l++,this.oldScroll={x:t.scrollLeft(),y:t.scrollTop()},this.waypoints={horizontal:{},vertical:{}},this.element[c]=this.id,h[this.id]=this,t.bind(m,function(){var t;if(!e.didScroll&&!d)return e.didScroll=!0,t=function(){return e.doScroll(),e.didScroll=!1},i.setTimeout(t,o[y].settings.scrollThrottle)}),t.bind(f,function(){var t;if(!e.didResize)return e.didResize=!0,t=function(){return o[y]("refresh"),e.didResize=!1},i.setTimeout(t,o[y].settings.resizeThrottle)})}return t.prototype.doScroll=function(){var t,e=this;return t={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!d||t.vertical.oldScroll&&t.vertical.newScroll||o[y]("refresh"),o.each(t,function(t,i){var n,r,s;return s=[],r=i.newScroll>i.oldScroll,n=r?i.forward:i.backward,o.each(e.waypoints[t],function(t,e){var o,n;return i.oldScroll<(o=e.offset)&&o<=i.newScroll?s.push(e):i.newScroll<(n=e.offset)&&n<=i.oldScroll?s.push(e):void 0}),s.sort(function(t,e){return t.offset-e.offset}),r||s.reverse(),o.each(s,function(t,e){if(e.options.continuous||t===s.length-1)return e.trigger([n])})}),this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}},t.prototype.refresh=function(){var t,e,i,n=this;return i=o.isWindow(this.element),e=this.$element.offset(),this.doScroll(),t={horizontal:{contextOffset:i?0:e.left,contextScroll:i?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:i?0:e.top,contextScroll:i?0:this.oldScroll.y,contextDimension:i?o[y]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},o.each(t,function(t,e){return o.each(n.waypoints[t],function(t,i){var n,r,s,a,l;if(n=i.options.offset,s=i.offset,r=o.isWindow(i.element)?0:i.$element.offset()[e.offsetProp],o.isFunction(n)?n=n.apply(i.element):"string"==typeof n&&(n=parseFloat(n),i.options.offset.indexOf("%")>-1&&(n=Math.ceil(e.contextDimension*n/100))),i.offset=r-e.contextOffset+e.contextScroll-n,(!i.options.onlyOnScroll||null==s)&&i.enabled)return null!==s&&s<(a=e.oldScroll)&&a<=i.offset?i.trigger([e.backward]):null!==s&&s>(l=e.oldScroll)&&l>=i.offset?i.trigger([e.forward]):null===s&&e.oldScroll>=i.offset?i.trigger([e.forward]):void 0})})},t.prototype.checkEmpty=function(){if(o.isEmptyObject(this.waypoints.horizontal)&&o.isEmptyObject(this.waypoints.vertical))return this.$element.unbind([f,m].join(" ")),delete h[this.id]},t}(),s=function(){function t(t,e,i){var n,r;"bottom-in-view"===(i=o.extend({},o.fn[v].defaults,i)).offset&&(i.offset=function(){var t;return t=o[y]("viewportHeight"),o.isWindow(e.element)||(t=e.$element.height()),t-o(this).outerHeight()}),this.$element=t,this.element=t[0],this.axis=i.horizontal?"horizontal":"vertical",this.callback=i.handler,this.context=e,this.enabled=i.enabled,this.id="waypoints"+g++,this.offset=null,this.options=i,e.waypoints[this.axis][this.id]=this,a[this.axis][this.id]=this,(n=null!=(r=this.element[w])?r:[]).push(this.id),this.element[w]=n}return t.prototype.trigger=function(t){if(this.enabled)return null!=this.callback&&this.callback.apply(this.element,t),this.options.triggerOnce?this.destroy():void 0},t.prototype.disable=function(){return this.enabled=!1},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},t.prototype.destroy=function(){return delete a[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},t.getWaypointsByElement=function(t){var e,i;return(i=t[w])?(e=o.extend({},a.horizontal,a.vertical),o.map(i,function(t){return e[t]})):[]},t}(),p={init:function(t,e){return null==e&&(e={}),null==e.handler&&(e.handler=t),this.each(function(){var t,i,n,a;return t=o(this),n=null!=(a=e.context)?a:o.fn[v].defaults.context,o.isWindow(n)||(n=t.closest(n)),n=o(n),(i=h[n[0][c]])||(i=new r(n)),new s(t,i,e)}),o[y]("refresh"),this},disable:function(){return p._invoke.call(this,"disable")},enable:function(){return p._invoke.call(this,"enable")},destroy:function(){return p._invoke.call(this,"destroy")},prev:function(t,e){return p._traverse.call(this,t,e,function(t,e,o){if(e>0)return t.push(o[e-1])})},next:function(t,e){return p._traverse.call(this,t,e,function(t,e,o){if(e<o.length-1)return t.push(o[e+1])})},_traverse:function(t,e,n){var r,s;return null==t&&(t="vertical"),null==e&&(e=i),s=u.aggregate(e),r=[],this.each(function(){var e;return e=o.inArray(this,s[t]),n(r,e,s[t])}),this.pushStack(r)},_invoke:function(t){return this.each(function(){var e;return e=s.getWaypointsByElement(this),o.each(e,function(e,o){return o[t](),!0})}),this}},o.fn[v]=function(){var t,i;return i=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],p[i]?p[i].apply(this,t):o.isFunction(i)?p.init.apply(this,arguments):o.isPlainObject(i)?p.init.apply(this,[null,i]):i?o.error("The "+i+" method does not exist in jQuery Waypoints."):o.error("jQuery Waypoints needs a callback function or handler option.")},o.fn[v].defaults={context:i,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},u={refresh:function(){return o.each(h,function(t,e){return e.refresh()})},viewportHeight:function(){var t;return null!=(t=i.innerHeight)?t:n.height()},aggregate:function(t){var e,i,n;return e=a,t&&(e=null!=(n=h[o(t)[0][c]])?n.waypoints:void 0),e?(i={horizontal:[],vertical:[]},o.each(i,function(t,n){return o.each(e[t],function(t,e){return n.push(e)}),n.sort(function(t,e){return t.offset-e.offset}),i[t]=o.map(n,function(t){return t.element}),i[t]=o.unique(i[t])}),i):[]},above:function(t){return null==t&&(t=i),u._filter(t,"vertical",function(t,e){return e.offset<=t.oldScroll.y})},below:function(t){return null==t&&(t=i),u._filter(t,"vertical",function(t,e){return e.offset>t.oldScroll.y})},left:function(t){return null==t&&(t=i),u._filter(t,"horizontal",function(t,e){return e.offset<=t.oldScroll.x})},right:function(t){return null==t&&(t=i),u._filter(t,"horizontal",function(t,e){return e.offset>t.oldScroll.x})},enable:function(){return u._invoke("enable")},disable:function(){return u._invoke("disable")},destroy:function(){return u._invoke("destroy")},extendFn:function(t,e){return p[t]=e},_invoke:function(t){var e;return e=o.extend({},a.vertical,a.horizontal),o.each(e,function(e,o){return o[t](),!0})},_filter:function(t,e,i){var n,r;return(n=h[o(t)[0][c]])?(r=[],o.each(n.waypoints[e],function(t,e){if(i(n,e))return r.push(e)}),r.sort(function(t,e){return t.offset-e.offset}),o.map(r,function(t){return t.element})):[]}},o[y]=function(){var t,o;return o=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],u[o]?u[o].apply(null,t):u.aggregate.call(null,o)},o[y].settings={resizeThrottle:100,scrollThrottle:30},n.load(function(){return o[y]("refresh")})})}.call(this),function(t){"use strict";t.fn.counterUp=function(e){var o=t.extend({time:400,delay:10},e);return this.each(function(){var e=t(this),i=o;e.waypoint(function(){var t=[],o=i.time/i.delay,n=e.text(),r=/[0-9]+,[0-9]+/.test(n);n=n.replace(/,/g,"");/^[0-9]+$/.test(n);for(var s=/^[0-9]+\.[0-9]+$/.test(n),a=s?(n.split(".")[1]||[]).length:0,l=o;l>=1;l--){var c=parseInt(n/o*l);if(s&&(c=parseFloat(n/o*l).toFixed(a)),r)for(;/(\d+)(\d{3})/.test(c.toString());)c=c.toString().replace(/(\d+)(\d{3})/,"$1,$2");t.unshift(c)}e.data("counterup-nums",t),e.text("0");e.data("counterup-func",function(){e.text(e.data("counterup-nums").shift()),e.data("counterup-nums").length?setTimeout(e.data("counterup-func"),i.delay):(e.data("counterup-nums"),e.data("counterup-nums",null),e.data("counterup-func",null))}),setTimeout(e.data("counterup-func"),i.delay)},{offset:"100%",triggerOnce:!0})})}}(jQuery),function(t){function e(){var e,n=t(),c=0;if(t.each(r,function(t,e){var o=e.data.selector,i=e.$element;n=n.add(o?i.find(o):i)}),e=n.length)for(o=o||function(){var e,o={height:a.innerHeight,width:a.innerWidth};return o.height||!(e=s.compatMode)&&t.support.boxModel||(o={height:(e="CSS1Compat"===e?l:s.body).clientHeight,width:e.clientWidth}),o}(),i=i||{top:a.pageYOffset||l.scrollTop||s.body.scrollTop,left:a.pageXOffset||l.scrollLeft||s.body.scrollLeft};c<e;c++)if(t.contains(l,n[c])){var h=t(n[c]),d=h.height(),u=h.width(),p=h.offset(),f=h.data("inview");if(!i||!o)break;p.top+d>i.top&&p.top<i.top+o.height&&p.left+u>i.left&&p.left<i.left+o.width?(p=(u=i.left>p.left?"right":i.left+o.width<p.left+u?"left":"both")+"-"+(d=i.top>p.top?"bottom":i.top+o.height<p.top+d?"top":"both"),f&&f===p||h.data("inview",p).trigger("inview",[!0,u,d])):f&&h.data("inview",!1).trigger("inview",[!1])}}var o,i,n,r={},s=document,a=window,l=s.documentElement,c=t.expando;t.event.special.inview={add:function(o){r[o.guid+"-"+this[c]]={data:o,$element:t(this)},n||t.isEmptyObject(r)||(n=setInterval(e,250))},remove:function(e){try{delete r[e.guid+"-"+this[c]]}catch(t){}t.isEmptyObject(r)&&(clearInterval(n),n=null)}},t(a).bind("scroll resize",function(){o=i=null}),!l.addEventListener&&l.attachEvent&&l.attachEvent("onfocusin",function(){i=null})}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){var e=!1,o=!1,i=5e3,n=2e3,r=0,s=["ms","moz","webkit","o"],a=window.requestAnimationFrame||!1,l=window.cancelAnimationFrame||!1;if(!a)for(var c in s){var h=s[c];a||(a=window[h+"RequestAnimationFrame"]),l||(l=window[h+"CancelAnimationFrame"]||window[h+"CancelRequestAnimationFrame"])}var d=window.MutationObserver||window.WebKitMutationObserver||!1,u={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:function(){var t;return 0<(t=(t=document.getElementsByTagName("script"))[t.length-1].src.split("?")[0]).split("/").length?t.split("/").slice(0,-1).join("/")+"/":""}()},p=!1,f=function(s,c){function h(t,e,o){return e=t.css(e),t=parseFloat(e),isNaN(t)?(o=3==(t=S[e]||0)?o?w.win.outerHeight()-w.win.innerHeight():w.win.outerWidth()-w.win.innerWidth():1,w.isie8&&t&&(t+=1),o?t:0):t}function f(t,e,o,i){w._bind(t,e,function(i){var n={original:i=i||window.event,target:i.target||i.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==i.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return i.preventDefault?i.preventDefault():i.returnValue=!1,!1},stopImmediatePropagation:function(){i.stopImmediatePropagation?i.stopImmediatePropagation():i.cancelBubble=!0}};return"mousewheel"==e?(n.deltaY=-.025*i.wheelDelta,i.wheelDeltaX&&(n.deltaX=-.025*i.wheelDeltaX)):n.deltaY=i.detail,o.call(t,n)},i)}function g(t,e,o){var i,n;if(0==t.deltaMode?(i=-Math.floor(t.deltaX*(w.opt.mousescrollstep/54)),n=-Math.floor(t.deltaY*(w.opt.mousescrollstep/54))):1==t.deltaMode&&(i=-Math.floor(t.deltaX*w.opt.mousescrollstep),n=-Math.floor(t.deltaY*w.opt.mousescrollstep)),e&&w.opt.oneaxismousemode&&0==i&&n&&(i=n,n=0),i&&(w.scrollmom&&w.scrollmom.stop(),w.lastdeltax+=i,w.debounced("mousewheelx",function(){var t=w.lastdeltax;w.lastdeltax=0,w.rail.drag||w.doScrollLeftBy(t)},15)),n){if(w.opt.nativeparentscrolling&&o&&!w.ispage&&!w.zoomactive)if(0>n){if(w.getScrollTop()>=w.page.maxh)return!0}else if(0>=w.getScrollTop())return!0;w.scrollmom&&w.scrollmom.stop(),w.lastdeltay+=n,w.debounced("mousewheely",function(){var t=w.lastdeltay;w.lastdeltay=0,w.rail.drag||w.doScrollBy(t)},15)}return t.stopImmediatePropagation(),t.preventDefault()}var w=this;if(this.version="3.5.4",this.name="nicescroll",this.me=c,this.opt={doc:t("body"),win:!1},t.extend(this.opt,u),this.opt.snapbackspeed=80,s)for(var v in w.opt)void 0!==s[v]&&(w.opt[v]=s[v]);this.iddoc=(this.doc=w.opt.doc)&&this.doc[0]&&this.doc[0].id||"",this.ispage=/^BODY|HTML/.test(w.opt.win?w.opt.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==w.opt.win,this.win=w.opt.win||(this.ispage?t(window):this.doc),this.docscroll=this.ispage&&!this.haswrapper?t(window):this.win,this.body=t("body"),this.iframe=this.isfixed=this.viewport=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=w.opt.autohidemode,this.page=this.view=this.onzoomout=this.onzoomin=this.onscrollcancel=this.onscrollend=this.onscrollstart=this.onclick=this.ongesturezoom=this.onkeypress=this.onmousewheel=this.onmousemove=this.onmouseup=this.onmousedown=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,this.observerremover=this.observer=this.scrollmom=this.scrollrunning=this.isrtlmode=!1;do{this.id="ascrail"+n++}while(document.getElementById(this.id));this.hasmousefocus=this.hasfocus=this.zoomactive=this.zoom=this.selectiondrag=this.cursorfreezed=this.cursor=this.rail=!1,this.visibility=!0,this.hidden=this.locked=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=w.opt.overflowx,this.overflowy=w.opt.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltay=this.lastdeltax=0,this.detected=function(){if(p)return p;var t=document.createElement("DIV"),e={haspointerlock:"pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document};e.isopera="opera"in window,e.isopera12=e.isopera&&"getUserMedia"in navigator,e.isoperamini="[object OperaMini]"===Object.prototype.toString.call(window.operamini),e.isie="all"in document&&"attachEvent"in t&&!e.isopera,e.isieold=e.isie&&!("msInterpolationMode"in t.style),e.isie7=e.isie&&!e.isieold&&(!("documentMode"in document)||7==document.documentMode),e.isie8=e.isie&&"documentMode"in document&&8==document.documentMode,e.isie9=e.isie&&"performance"in window&&9<=document.documentMode,e.isie10=e.isie&&"performance"in window&&10<=document.documentMode,e.isie9mobile=/iemobile.9/i.test(navigator.userAgent),e.isie9mobile&&(e.isie9=!1),e.isie7mobile=!e.isie9mobile&&e.isie7&&/iemobile/i.test(navigator.userAgent),e.ismozilla="MozAppearance"in t.style,e.iswebkit="WebkitAppearance"in t.style,e.ischrome="chrome"in window,e.ischrome22=e.ischrome&&e.haspointerlock,e.ischrome26=e.ischrome&&"transition"in t.style,e.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in window,e.hasmstouch=window.navigator.msPointerEnabled||!1,e.ismac=/^mac$/i.test(navigator.platform),e.isios=e.cantouch&&/iphone|ipad|ipod/i.test(navigator.platform),e.isios4=e.isios&&!("seal"in Object),e.isandroid=/android/i.test(navigator.userAgent),e.trstyle=!1,e.hastransform=!1,e.hastranslate3d=!1,e.transitionstyle=!1,e.hastransition=!1,e.transitionend=!1;for(var o=["transform","msTransform","webkitTransform","MozTransform","OTransform"],i=0;i<o.length;i++)if(void 0!==t.style[o[i]]){e.trstyle=o[i];break}e.hastransform=0!=e.trstyle,e.hastransform&&(t.style[e.trstyle]="translate3d(1px,2px,3px)",e.hastranslate3d=/translate3d/.test(t.style[e.trstyle])),e.transitionstyle=!1,e.prefixstyle="",e.transitionend=!1;o="transition webkitTransition MozTransition OTransition OTransition msTransition KhtmlTransition".split(" ");var n=" -webkit- -moz- -o- -o -ms- -khtml-".split(" "),r="transitionend webkitTransitionEnd transitionend otransitionend oTransitionEnd msTransitionEnd KhtmlTransitionEnd".split(" ");for(i=0;i<o.length;i++)if(o[i]in t.style){e.transitionstyle=o[i],e.prefixstyle=n[i],e.transitionend=r[i];break}e.ischrome26&&(e.prefixstyle=n[1]),e.hastransition=e.transitionstyle;t:{for(o=["-moz-grab","-webkit-grab","grab"],(e.ischrome&&!e.ischrome22||e.isie)&&(o=[]),i=0;i<o.length;i++)if(n=o[i],t.style.cursor=n,t.style.cursor==n){o=n;break t}o="url(http://www.google.com/intl/en_ALL/mapfiles/openhand.cur),n-resize"}return e.cursorgrabvalue=o,e.hasmousecapture="setCapture"in t,e.hasMutationObserver=!1!==d,p=e}();var y=t.extend({},this.detected);this.ishwscroll=(this.canhwscroll=y.hastransform&&w.opt.hwacceleration)&&w.haswrapper,this.istouchcapable=!1,y.cantouch&&y.ischrome&&!y.isios&&!y.isandroid&&(this.istouchcapable=!0,y.cantouch=!1),y.cantouch&&y.ismozilla&&!y.isios&&!y.isandroid&&(this.istouchcapable=!0,y.cantouch=!1),w.opt.enablemouselockapi||(y.hasmousecapture=!1,y.haspointerlock=!1),this.delayed=function(t,e,o,i){var n=w.delaylist[t],r=(new Date).getTime();if(!i&&n&&n.tt)return!1;n&&n.tt&&clearTimeout(n.tt),n&&n.last+o>r&&!n.tt?w.delaylist[t]={last:r+o,tt:setTimeout(function(){w&&(w.delaylist[t].tt=0,e.call())},o)}:n&&n.tt||(w.delaylist[t]={last:r,tt:0},setTimeout(function(){e.call()},0))},this.debounced=function(t,e,o){var i=w.delaylist[t];(new Date).getTime(),w.delaylist[t]=e,i||setTimeout(function(){var e=w.delaylist[t];w.delaylist[t]=!1,e.call()},o)};var b=!1;if(this.synched=function(t,e){return w.synclist[t]=e,b||(a(function(){for(t in b=!1,w.synclist){var e=w.synclist[t];e&&e.call(w),w.synclist[t]=!1}}),b=!0),t},this.unsynched=function(t){w.synclist[t]&&(w.synclist[t]=!1)},this.css=function(t,e){for(var o in e)w.saved.css.push([t,o,t.css(o)]),t.css(o,e[o])},this.scrollTop=function(t){return void 0===t?w.getScrollTop():w.setScrollTop(t)},this.scrollLeft=function(t){return void 0===t?w.getScrollLeft():w.setScrollLeft(t)},BezierClass=function(t,e,o,i,n,r,s){this.st=t,this.ed=e,this.spd=o,this.p1=i||0,this.p2=n||1,this.p3=r||0,this.p4=s||1,this.ts=(new Date).getTime(),this.df=this.ed-this.st},BezierClass.prototype={B2:function(t){return 3*t*t*(1-t)},B3:function(t){return 3*t*(1-t)*(1-t)},B4:function(t){return(1-t)*(1-t)*(1-t)},getNow:function(){var t=1-((new Date).getTime()-this.ts)/this.spd,e=this.B2(t)+this.B3(t)+this.B4(t);return 0>t?this.ed:this.st+Math.round(this.df*e)},update:function(t,e){return this.st=this.getNow(),this.ed=t,this.spd=e,this.ts=(new Date).getTime(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},y.hastranslate3d&&y.isios&&this.doc.css("-webkit-backface-visibility","hidden");var x=function(){var t=w.doc.css(y.trstyle);return!(!t||"matrix"!=t.substr(0,6))&&t.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)};this.getScrollTop=function(t){if(!t){if(t=x())return 16==t.length?-t[13]:-t[5];if(w.timerscroll&&w.timerscroll.bz)return w.timerscroll.bz.getNow()}return w.doc.translate.y},this.getScrollLeft=function(t){if(!t){if(t=x())return 16==t.length?-t[12]:-t[4];if(w.timerscroll&&w.timerscroll.bh)return w.timerscroll.bh.getNow()}return w.doc.translate.x},this.notifyScrollEvent=document.createEvent?function(t){var e=document.createEvent("UIEvents");e.initUIEvent("scroll",!1,!0,window,1),t.dispatchEvent(e)}:document.fireEvent?function(t){var e=document.createEventObject();t.fireEvent("onscroll"),e.cancelBubble=!0}:function(t,e){},y.hastranslate3d&&w.opt.enabletranslate3d?(this.setScrollTop=function(t,e){w.doc.translate.y=t,w.doc.translate.ty=-1*t+"px",w.doc.css(y.trstyle,"translate3d("+w.doc.translate.tx+","+w.doc.translate.ty+",0px)"),e||w.notifyScrollEvent(w.win[0])},this.setScrollLeft=function(t,e){w.doc.translate.x=t,w.doc.translate.tx=-1*t+"px",w.doc.css(y.trstyle,"translate3d("+w.doc.translate.tx+","+w.doc.translate.ty+",0px)"),e||w.notifyScrollEvent(w.win[0])}):(this.setScrollTop=function(t,e){w.doc.translate.y=t,w.doc.translate.ty=-1*t+"px",w.doc.css(y.trstyle,"translate("+w.doc.translate.tx+","+w.doc.translate.ty+")"),e||w.notifyScrollEvent(w.win[0])},this.setScrollLeft=function(t,e){w.doc.translate.x=t,w.doc.translate.tx=-1*t+"px",w.doc.css(y.trstyle,"translate("+w.doc.translate.tx+","+w.doc.translate.ty+")"),e||w.notifyScrollEvent(w.win[0])})}else this.getScrollTop=function(){return w.docscroll.scrollTop()},this.setScrollTop=function(t){return w.docscroll.scrollTop(t)},this.getScrollLeft=function(){return w.docscroll.scrollLeft()},this.setScrollLeft=function(t){return w.docscroll.scrollLeft(t)};this.getTarget=function(t){return!!t&&(t.target?t.target:!!t.srcElement&&t.srcElement)},this.hasParent=function(t,e){if(!t)return!1;for(var o=t.target||t.srcElement||t||!1;o&&o.id!=e;)o=o.parentNode||!1;return!1!==o};var S={thin:1,medium:3,thick:5};this.getOffset=function(){if(w.isfixed)return{top:parseFloat(w.win.css("top")),left:parseFloat(w.win.css("left"))};if(!w.viewport)return w.win.offset();var t=w.win.offset(),e=w.viewport.offset();return{top:t.top-e.top+w.viewport.scrollTop(),left:t.left-e.left+w.viewport.scrollLeft()}},this.updateScrollBar=function(t){if(w.ishwscroll)w.rail.css({height:w.win.innerHeight()}),w.railh&&w.railh.css({width:w.win.innerWidth()});else{var e=w.getOffset(),o=e.top,i=e.left;o=o+h(w.win,"border-top-width",!0);w.win.outerWidth(),w.win.innerWidth();i=i+(w.rail.align?w.win.outerWidth()-h(w.win,"border-right-width")-w.rail.width:h(w.win,"border-left-width"));var n=w.opt.railoffset;n&&(n.top&&(o+=n.top),w.rail.align&&n.left&&(i+=n.left)),w.locked||w.rail.css({top:o,left:i,height:t?t.h:w.win.innerHeight()}),w.zoom&&w.zoom.css({top:o+1,left:1==w.rail.align?i-20:i+w.rail.width+4}),w.railh&&!w.locked&&(o=e.top,i=e.left,t=w.railh.align?o+h(w.win,"border-top-width",!0)+w.win.innerHeight()-w.railh.height:o+h(w.win,"border-top-width",!0),i+=h(w.win,"border-left-width"),w.railh.css({top:t,left:i,width:w.railh.width}))}},this.doRailClick=function(t,e,o){var i;w.locked||(w.cancelEvent(t),e?(e=o?w.doScrollLeft:w.doScrollTop)(i=o?(t.pageX-w.railh.offset().left-w.cursorwidth/2)*w.scrollratio.x:(t.pageY-w.rail.offset().top-w.cursorheight/2)*w.scrollratio.y):(e=o?w.doScrollLeftBy:w.doScrollBy,i=o?w.scroll.x:w.scroll.y,t=o?t.pageX-w.railh.offset().left:t.pageY-w.rail.offset().top,o=o?w.view.w:w.view.h,e(i>=t?o:-o)))},w.hasanimationframe=a,w.hascancelanimationframe=l,w.hasanimationframe?w.hascancelanimationframe||(l=function(){w.cancelAnimationFrame=!0}):(a=function(t){return setTimeout(t,15-Math.floor(+new Date/1e3)%16)},l=clearInterval),this.init=function(){if(w.saved.css=[],y.isie7mobile||y.isoperamini)return!0;if(y.hasmstouch&&w.css(w.ispage?t("html"):w.win,{"-ms-touch-action":"none"}),w.zindex="auto",w.zindex=w.ispage||"auto"!=w.opt.zindex?w.opt.zindex:function(){var t=w.win;if("zIndex"in t)return t.zIndex();for(;0<t.length&&9!=t[0].nodeType;){var e=t.css("zIndex");if(!isNaN(e)&&0!=e)return parseInt(e);t=t.parent()}return!1}()||"auto",!w.ispage&&"auto"!=w.zindex&&w.zindex>r&&(r=w.zindex),w.isie&&0==w.zindex&&"auto"==w.opt.zindex&&(w.zindex="auto"),!w.ispage||!y.cantouch&&!y.isieold&&!y.isie9mobile){var n=w.docscroll;w.ispage&&(n=w.haswrapper?w.win:w.doc),y.isie9mobile||w.css(n,{"overflow-y":"hidden"}),w.ispage&&y.isie7&&("BODY"==w.doc[0].nodeName?w.css(t("html"),{"overflow-y":"hidden"}):"HTML"==w.doc[0].nodeName&&w.css(t("body"),{"overflow-y":"hidden"})),y.isios&&!w.ispage&&!w.haswrapper&&w.css(t("body"),{"-webkit-overflow-scrolling":"touch"});var s=t(document.createElement("div"));s.css({position:"relative",top:0,float:"right",width:w.opt.cursorwidth,height:"0px","background-color":w.opt.cursorcolor,border:w.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":w.opt.cursorborderradius,"-moz-border-radius":w.opt.cursorborderradius,"border-radius":w.opt.cursorborderradius}),s.hborder=parseFloat(s.outerHeight()-s.innerHeight()),w.cursor=s,(v=t(document.createElement("div"))).attr("id",w.id),v.addClass("nicescroll-rails");var a,l,c,h=["left","right"];for(c in h)l=h[c],(a=w.opt.railpadding[l])?v.css("padding-"+l,a+"px"):w.opt.railpadding[l]=0;if(v.append(s),v.width=Math.max(parseFloat(w.opt.cursorwidth),s.outerWidth())+w.opt.railpadding.left+w.opt.railpadding.right,v.css({width:v.width+"px",zIndex:w.zindex,background:w.opt.background,cursor:"default"}),v.visibility=!0,v.scrollable=!0,v.align="left"==w.opt.railalign?0:1,w.rail=v,s=w.rail.drag=!1,w.opt.boxzoom&&!w.ispage&&!y.isieold&&(s=document.createElement("div"),w.bind(s,"click",w.doZoom),w.zoom=t(s),w.zoom.css({cursor:"pointer","z-index":w.zindex,backgroundImage:"url("+w.opt.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),w.opt.dblclickzoom&&w.bind(w.win,"dblclick",w.doZoom),y.cantouch&&w.opt.gesturezoom&&(w.ongesturezoom=function(t){return 1.5<t.scale&&w.doZoomIn(t),.8>t.scale&&w.doZoomOut(t),w.cancelEvent(t)},w.bind(w.win,"gestureend",w.ongesturezoom))),w.railh=!1,w.opt.horizrailenabled){w.css(n,{"overflow-x":"hidden"}),(s=t(document.createElement("div"))).css({position:"relative",top:0,height:w.opt.cursorwidth,width:"0px","background-color":w.opt.cursorcolor,border:w.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":w.opt.cursorborderradius,"-moz-border-radius":w.opt.cursorborderradius,"border-radius":w.opt.cursorborderradius}),s.wborder=parseFloat(s.outerWidth()-s.innerWidth()),w.cursorh=s;var u=t(document.createElement("div"));u.attr("id",w.id+"-hr"),u.addClass("nicescroll-rails"),u.height=Math.max(parseFloat(w.opt.cursorwidth),s.outerHeight()),u.css({height:u.height+"px",zIndex:w.zindex,background:w.opt.background}),u.append(s),u.visibility=!0,u.scrollable=!0,u.align="top"==w.opt.railvalign?0:1,w.railh=u,w.railh.drag=!1}if(w.ispage?(v.css({position:"fixed",top:"0px",height:"100%"}),v.align?v.css({right:"0px"}):v.css({left:"0px"}),w.body.append(v),w.railh&&(u.css({position:"fixed",left:"0px",width:"100%"}),u.align?u.css({bottom:"0px"}):u.css({top:"0px"}),w.body.append(u))):(w.ishwscroll?("static"==w.win.css("position")&&w.css(w.win,{position:"relative"}),n="HTML"==w.win[0].nodeName?w.body:w.win,w.zoom&&(w.zoom.css({position:"absolute",top:1,right:0,"margin-right":v.width+4}),n.append(w.zoom)),v.css({position:"absolute",top:0}),v.align?v.css({right:0}):v.css({left:0}),n.append(v),u&&(u.css({position:"absolute",left:0,bottom:0}),u.align?u.css({bottom:0}):u.css({top:0}),n.append(u))):(w.isfixed="fixed"==w.win.css("position"),n=w.isfixed?"fixed":"absolute",w.isfixed||(w.viewport=w.getViewport(w.win[0])),w.viewport&&(w.body=w.viewport,0==/fixed|relative|absolute/.test(w.viewport.css("position"))&&w.css(w.viewport,{position:"relative"})),v.css({position:n}),w.zoom&&w.zoom.css({position:n}),w.updateScrollBar(),w.body.append(v),w.zoom&&w.body.append(w.zoom),w.railh&&(u.css({position:n}),w.body.append(u))),y.isios&&w.css(w.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),y.isie&&w.opt.disableoutline&&w.win.attr("hideFocus","true"),y.iswebkit&&w.opt.disableoutline&&w.win.css({outline:"none"})),!1===w.opt.autohidemode?(w.autohidedom=!1,w.rail.css({opacity:w.opt.cursoropacitymax}),w.railh&&w.railh.css({opacity:w.opt.cursoropacitymax})):!0===w.opt.autohidemode||"leave"===w.opt.autohidemode?(w.autohidedom=t().add(w.rail),y.isie8&&(w.autohidedom=w.autohidedom.add(w.cursor)),w.railh&&(w.autohidedom=w.autohidedom.add(w.railh)),w.railh&&y.isie8&&(w.autohidedom=w.autohidedom.add(w.cursorh))):"scroll"==w.opt.autohidemode?(w.autohidedom=t().add(w.rail),w.railh&&(w.autohidedom=w.autohidedom.add(w.railh))):"cursor"==w.opt.autohidemode?(w.autohidedom=t().add(w.cursor),w.railh&&(w.autohidedom=w.autohidedom.add(w.cursorh))):"hidden"==w.opt.autohidemode&&(w.autohidedom=!1,w.hide(),w.locked=!1),y.isie9mobile)w.scrollmom=new m(w),w.onmangotouch=function(t){t=w.getScrollTop();var e=w.getScrollLeft();if(t==w.scrollmom.lastscrolly&&e==w.scrollmom.lastscrollx)return!0;var o=t-w.mangotouch.sy,i=e-w.mangotouch.sx;if(0!=Math.round(Math.sqrt(Math.pow(i,2)+Math.pow(o,2)))){var n=0>o?-1:1,r=0>i?-1:1,s=+new Date;w.mangotouch.lazy&&clearTimeout(w.mangotouch.lazy),80<s-w.mangotouch.tm||w.mangotouch.dry!=n||w.mangotouch.drx!=r?(w.scrollmom.stop(),w.scrollmom.reset(e,t),w.mangotouch.sy=t,w.mangotouch.ly=t,w.mangotouch.sx=e,w.mangotouch.lx=e,w.mangotouch.dry=n,w.mangotouch.drx=r,w.mangotouch.tm=s):(w.scrollmom.stop(),w.scrollmom.update(w.mangotouch.sx-i,w.mangotouch.sy-o),w.mangotouch.tm=s,o=Math.max(Math.abs(w.mangotouch.ly-t),Math.abs(w.mangotouch.lx-e)),w.mangotouch.ly=t,w.mangotouch.lx=e,2<o&&(w.mangotouch.lazy=setTimeout(function(){w.mangotouch.lazy=!1,w.mangotouch.dry=0,w.mangotouch.drx=0,w.mangotouch.tm=0,w.scrollmom.doMomentum(30)},100)))}},v=w.getScrollTop(),u=w.getScrollLeft(),w.mangotouch={sy:v,ly:v,dry:0,sx:u,lx:u,drx:0,lazy:!1,tm:0},w.bind(w.docscroll,"scroll",w.onmangotouch);else{if(y.cantouch||w.istouchcapable||w.opt.touchbehavior||y.hasmstouch){w.scrollmom=new m(w),w.ontouchstart=function(e){if(e.pointerType&&2!=e.pointerType)return!1;if(w.hasmoving=!1,!w.locked){if(y.hasmstouch)for(var o=!!e.target&&e.target;o;){if(0<(i=t(o).getNiceScroll()).length&&i[0].me==w.me)break;if(0<i.length)return!1;if("DIV"==o.nodeName&&o.id==w.id)break;o=!!o.parentNode&&o.parentNode}if(w.cancelScroll(),(o=w.getTarget(e))&&/INPUT/i.test(o.nodeName)&&/range/i.test(o.type))return w.stopPropagation(e);if(!("clientX"in e)&&"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),w.forcescreen&&(i=e,(e={original:e.original?e.original:e}).clientX=i.screenX,e.clientY=i.screenY),w.rail.drag={x:e.clientX,y:e.clientY,sx:w.scroll.x,sy:w.scroll.y,st:w.getScrollTop(),sl:w.getScrollLeft(),pt:2,dl:!1},w.ispage||!w.opt.directionlockdeadzone)w.rail.drag.dl="f";else{var i=t(window).width(),n=t(window).height(),r=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),s=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight);n=Math.max(0,s-n),i=Math.max(0,r-i);w.rail.drag.ck=!w.rail.scrollable&&w.railh.scrollable?0<n&&"v":!(!w.rail.scrollable||w.railh.scrollable)&&(0<i&&"h"),w.rail.drag.ck||(w.rail.drag.dl="f")}if(w.opt.touchbehavior&&w.isiframe&&y.isie&&(i=w.win.position(),w.rail.drag.x+=i.left,w.rail.drag.y+=i.top),w.hasmoving=!1,w.lastmouseup=!1,w.scrollmom.reset(e.clientX,e.clientY),!y.cantouch&&!this.istouchcapable&&!y.hasmstouch){if(!o||!/INPUT|SELECT|TEXTAREA/i.test(o.nodeName))return!w.ispage&&y.hasmousecapture&&o.setCapture(),w.opt.touchbehavior?(o.onclick&&!o._onclick&&(o._onclick=o.onclick,o.onclick=function(t){if(w.hasmoving)return!1;o._onclick.call(this,t)}),w.cancelEvent(e)):w.stopPropagation(e);/SUBMIT|CANCEL|BUTTON/i.test(t(o).attr("type"))&&(pc={tg:o,click:!1},w.preventclick=pc)}}},w.ontouchend=function(t){return(!t.pointerType||2==t.pointerType)&&(w.rail.drag&&2==w.rail.drag.pt&&(w.scrollmom.doMomentum(),w.rail.drag=!1,w.hasmoving&&(w.lastmouseup=!0,w.hideCursor(),y.hasmousecapture&&document.releaseCapture(),!y.cantouch))?w.cancelEvent(t):void 0)};var p=w.opt.touchbehavior&&w.isiframe&&!y.hasmousecapture;w.ontouchmove=function(e,o){if(e.pointerType&&2!=e.pointerType)return!1;if(w.rail.drag&&2==w.rail.drag.pt){if(y.cantouch&&void 0===e.original)return!0;if(w.hasmoving=!0,w.preventclick&&!w.preventclick.click&&(w.preventclick.click=w.preventclick.tg.onclick||!1,w.preventclick.tg.onclick=w.onpreventclick),"changedTouches"in(e=t.extend({original:e},e))&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),w.forcescreen){var i=e;(e={original:e.original?e.original:e}).clientX=i.screenX,e.clientY=i.screenY}if(i=ofy=0,p&&!o){i=-(r=w.win.position()).left;ofy=-r.top}var n=e.clientY+ofy,r=n-w.rail.drag.y,s=e.clientX+i,a=s-w.rail.drag.x,l=w.rail.drag.st-r;if(w.ishwscroll&&w.opt.bouncescroll?0>l?l=Math.round(l/2):l>w.page.maxh&&(l=w.page.maxh+Math.round((l-w.page.maxh)/2)):(0>l&&(n=l=0),l>w.page.maxh&&(l=w.page.maxh,n=0)),w.railh&&w.railh.scrollable){var c=w.rail.drag.sl-a;w.ishwscroll&&w.opt.bouncescroll?0>c?c=Math.round(c/2):c>w.page.maxw&&(c=w.page.maxw+Math.round((c-w.page.maxw)/2)):(0>c&&(s=c=0),c>w.page.maxw&&(c=w.page.maxw,s=0))}if(i=!1,w.rail.drag.dl)i=!0,"v"==w.rail.drag.dl?c=w.rail.drag.sl:"h"==w.rail.drag.dl&&(l=w.rail.drag.st);else{r=Math.abs(r),a=Math.abs(a);var h=w.opt.directionlockdeadzone;if("v"==w.rail.drag.ck){if(r>h&&a<=.3*r)return w.rail.drag=!1,!0;a>h&&(w.rail.drag.dl="f",t("body").scrollTop(t("body").scrollTop()))}else if("h"==w.rail.drag.ck){if(a>h&&r<=.3*a)return w.rail.drag=!1,!0;r>h&&(w.rail.drag.dl="f",t("body").scrollLeft(t("body").scrollLeft()))}}if(w.synched("touchmove",function(){w.rail.drag&&2==w.rail.drag.pt&&(w.prepareTransition&&w.prepareTransition(0),w.rail.scrollable&&w.setScrollTop(l),w.scrollmom.update(s,n),w.railh&&w.railh.scrollable?(w.setScrollLeft(c),w.showCursor(l,c)):w.showCursor(l),y.isie10&&document.selection.clear())}),y.ischrome&&w.istouchcapable&&(i=!1),i)return w.cancelEvent(e)}}}if(w.onmousedown=function(t,e){if(!w.rail.drag||1==w.rail.drag.pt){if(w.locked)return w.cancelEvent(t);w.cancelScroll(),w.rail.drag={x:t.clientX,y:t.clientY,sx:w.scroll.x,sy:w.scroll.y,pt:1,hr:!!e};var o=w.getTarget(t);return!w.ispage&&y.hasmousecapture&&o.setCapture(),w.isiframe&&!y.hasmousecapture&&(w.saved.csspointerevents=w.doc.css("pointer-events"),w.css(w.doc,{"pointer-events":"none"})),w.hasmoving=!1,w.cancelEvent(t)}},w.onmouseup=function(t){if(w.rail.drag&&(y.hasmousecapture&&document.releaseCapture(),w.isiframe&&!y.hasmousecapture&&w.doc.css("pointer-events",w.saved.csspointerevents),1==w.rail.drag.pt))return w.rail.drag=!1,w.hasmoving&&w.triggerScrollEnd(),w.cancelEvent(t)},w.onmousemove=function(t){if(w.rail.drag&&1==w.rail.drag.pt){if(y.ischrome&&0==t.which)return w.onmouseup(t);if(w.cursorfreezed=!0,w.hasmoving=!0,w.rail.drag.hr){w.scroll.x=w.rail.drag.sx+(t.clientX-w.rail.drag.x),0>w.scroll.x&&(w.scroll.x=0);var e=w.scrollvaluemaxw;w.scroll.x>e&&(w.scroll.x=e)}else w.scroll.y=w.rail.drag.sy+(t.clientY-w.rail.drag.y),0>w.scroll.y&&(w.scroll.y=0),e=w.scrollvaluemax,w.scroll.y>e&&(w.scroll.y=e);return w.synched("mousemove",function(){w.rail.drag&&1==w.rail.drag.pt&&(w.showCursor(),w.rail.drag.hr?w.doScrollLeft(Math.round(w.scroll.x*w.scrollratio.x),w.opt.cursordragspeed):w.doScrollTop(Math.round(w.scroll.y*w.scrollratio.y),w.opt.cursordragspeed))}),w.cancelEvent(t)}},y.cantouch||w.opt.touchbehavior)w.onpreventclick=function(t){if(w.preventclick)return w.preventclick.tg.onclick=w.preventclick.click,w.preventclick=!1,w.cancelEvent(t)},w.bind(w.win,"mousedown",w.ontouchstart),w.onclick=!y.isios&&function(t){return!w.lastmouseup||(w.lastmouseup=!1,w.cancelEvent(t))},w.opt.grabcursorenabled&&y.cursorgrabvalue&&(w.css(w.ispage?w.doc:w.win,{cursor:y.cursorgrabvalue}),w.css(w.rail,{cursor:y.cursorgrabvalue}));else{var f=function(t){if(w.selectiondrag){if(t){var e=w.win.outerHeight();0<(t=t.pageY-w.selectiondrag.top)&&t<e&&(t=0),t>=e&&(t-=e),w.selectiondrag.df=t}0!=w.selectiondrag.df&&(w.doScrollBy(2*-Math.floor(w.selectiondrag.df/6)),w.debounced("doselectionscroll",function(){f()},50))}};w.hasTextSelected="getSelection"in document?function(){return 0<document.getSelection().rangeCount}:"selection"in document?function(){return"None"!=document.selection.type}:function(){return!1},w.onselectionstart=function(t){w.ispage||(w.selectiondrag=w.win.offset())},w.onselectionend=function(t){w.selectiondrag=!1},w.onselectiondrag=function(t){w.selectiondrag&&w.hasTextSelected()&&w.debounced("selectionscroll",function(){f(t)},250)}}y.hasmstouch&&(w.css(w.rail,{"-ms-touch-action":"none"}),w.css(w.cursor,{"-ms-touch-action":"none"}),w.bind(w.win,"MSPointerDown",w.ontouchstart),w.bind(document,"MSPointerUp",w.ontouchend),w.bind(document,"MSPointerMove",w.ontouchmove),w.bind(w.cursor,"MSGestureHold",function(t){t.preventDefault()}),w.bind(w.cursor,"contextmenu",function(t){t.preventDefault()})),this.istouchcapable&&(w.bind(w.win,"touchstart",w.ontouchstart),w.bind(document,"touchend",w.ontouchend),w.bind(document,"touchcancel",w.ontouchend),w.bind(document,"touchmove",w.ontouchmove)),w.bind(w.cursor,"mousedown",w.onmousedown),w.bind(w.cursor,"mouseup",w.onmouseup),w.railh&&(w.bind(w.cursorh,"mousedown",function(t){w.onmousedown(t,!0)}),w.bind(w.cursorh,"mouseup",w.onmouseup)),(w.opt.cursordragontouch||!y.cantouch&&!w.opt.touchbehavior)&&(w.rail.css({cursor:"default"}),w.railh&&w.railh.css({cursor:"default"}),w.jqbind(w.rail,"mouseenter",function(){if(!w.win.is(":visible"))return!1;w.canshowonmouseevent&&w.showCursor(),w.rail.active=!0}),w.jqbind(w.rail,"mouseleave",function(){w.rail.active=!1,w.rail.drag||w.hideCursor()}),w.opt.sensitiverail&&(w.bind(w.rail,"click",function(t){w.doRailClick(t,!1,!1)}),w.bind(w.rail,"dblclick",function(t){w.doRailClick(t,!0,!1)}),w.bind(w.cursor,"click",function(t){w.cancelEvent(t)}),w.bind(w.cursor,"dblclick",function(t){w.cancelEvent(t)})),w.railh&&(w.jqbind(w.railh,"mouseenter",function(){if(!w.win.is(":visible"))return!1;w.canshowonmouseevent&&w.showCursor(),w.rail.active=!0}),w.jqbind(w.railh,"mouseleave",function(){w.rail.active=!1,w.rail.drag||w.hideCursor()}),w.opt.sensitiverail&&(w.bind(w.railh,"click",function(t){w.doRailClick(t,!1,!0)}),w.bind(w.railh,"dblclick",function(t){w.doRailClick(t,!0,!0)}),w.bind(w.cursorh,"click",function(t){w.cancelEvent(t)}),w.bind(w.cursorh,"dblclick",function(t){w.cancelEvent(t)})))),y.cantouch||w.opt.touchbehavior?(w.bind(y.hasmousecapture?w.win:document,"mouseup",w.ontouchend),w.bind(document,"mousemove",w.ontouchmove),w.onclick&&w.bind(document,"click",w.onclick),w.opt.cursordragontouch&&(w.bind(w.cursor,"mousedown",w.onmousedown),w.bind(w.cursor,"mousemove",w.onmousemove),w.cursorh&&w.bind(w.cursorh,"mousedown",function(t){w.onmousedown(t,!0)}),w.cursorh&&w.bind(w.cursorh,"mousemove",w.onmousemove))):(w.bind(y.hasmousecapture?w.win:document,"mouseup",w.onmouseup),w.bind(document,"mousemove",w.onmousemove),w.onclick&&w.bind(document,"click",w.onclick),!w.ispage&&w.opt.enablescrollonselection&&(w.bind(w.win[0],"mousedown",w.onselectionstart),w.bind(document,"mouseup",w.onselectionend),w.bind(w.cursor,"mouseup",w.onselectionend),w.cursorh&&w.bind(w.cursorh,"mouseup",w.onselectionend),w.bind(document,"mousemove",w.onselectiondrag)),w.zoom&&(w.jqbind(w.zoom,"mouseenter",function(){w.canshowonmouseevent&&w.showCursor(),w.rail.active=!0}),w.jqbind(w.zoom,"mouseleave",function(){w.rail.active=!1,w.rail.drag||w.hideCursor()}))),w.opt.enablemousewheel&&(w.isiframe||w.bind(y.isie&&w.ispage?document:w.win,"mousewheel",w.onmousewheel),w.bind(w.rail,"mousewheel",w.onmousewheel),w.railh&&w.bind(w.railh,"mousewheel",w.onmousewheelhr)),!w.ispage&&!y.cantouch&&!/HTML|^BODY/.test(w.win[0].nodeName)&&(w.win.attr("tabindex")||w.win.attr({tabindex:i++}),w.jqbind(w.win,"focus",function(t){e=w.getTarget(t).id||!0,w.hasfocus=!0,w.canshowonmouseevent&&w.noticeCursor()}),w.jqbind(w.win,"blur",function(t){e=!1,w.hasfocus=!1}),w.jqbind(w.win,"mouseenter",function(t){o=w.getTarget(t).id||!0,w.hasmousefocus=!0,w.canshowonmouseevent&&w.noticeCursor()}),w.jqbind(w.win,"mouseleave",function(){o=!1,w.hasmousefocus=!1,w.rail.drag||w.hideCursor()}))}if(w.onkeypress=function(i){if(w.locked&&0==w.page.maxh)return!0;i=i||window.e;var n=w.getTarget(i);if(n&&/INPUT|TEXTAREA|SELECT|OPTION/.test(n.nodeName)&&(!n.getAttribute("type")&&!n.type||!/submit|button|cancel/i.tp)||t(n).attr("contenteditable"))return!0;if(w.hasfocus||w.hasmousefocus&&!e||w.ispage&&!e&&!o){if(n=i.keyCode,w.locked&&27!=n)return w.cancelEvent(i);var r=i.ctrlKey||!1,s=i.shiftKey||!1,a=!1;switch(n){case 38:case 63233:w.doScrollBy(72),a=!0;break;case 40:case 63235:w.doScrollBy(-72),a=!0;break;case 37:case 63232:w.railh&&(r?w.doScrollLeft(0):w.doScrollLeftBy(72),a=!0);break;case 39:case 63234:w.railh&&(r?w.doScrollLeft(w.page.maxw):w.doScrollLeftBy(-72),a=!0);break;case 33:case 63276:w.doScrollBy(w.view.h),a=!0;break;case 34:case 63277:w.doScrollBy(-w.view.h),a=!0;break;case 36:case 63273:w.railh&&r?w.doScrollPos(0,0):w.doScrollTo(0),a=!0;break;case 35:case 63275:w.railh&&r?w.doScrollPos(w.page.maxw,w.page.maxh):w.doScrollTo(w.page.maxh),a=!0;break;case 32:w.opt.spacebarenabled&&(s?w.doScrollBy(w.view.h):w.doScrollBy(-w.view.h),a=!0);break;case 27:w.zoomactive&&(w.doZoom(),a=!0)}if(a)return w.cancelEvent(i)}},w.opt.enablekeyboard&&w.bind(document,y.isopera&&!y.isopera12?"keypress":"keydown",w.onkeypress),w.bind(document,"keydown",function(t){t.ctrlKey&&(w.wheelprevented=!0)}),w.bind(document,"keyup",function(t){t.ctrlKey||(w.wheelprevented=!1)}),w.bind(window,"resize",w.lazyResize),w.bind(window,"orientationchange",w.lazyResize),w.bind(window,"load",w.lazyResize),y.ischrome&&!w.ispage&&!w.haswrapper){var g=w.win.attr("style"),v=parseFloat(w.win.css("width"))+1;w.win.css("width",v),w.synched("chromefix",function(){w.win.attr("style",g)})}w.onAttributeChange=function(t){w.lazyResize(250)},!w.ispage&&!w.haswrapper&&(!1!==d?(w.observer=new d(function(t){t.forEach(w.onAttributeChange)}),w.observer.observe(w.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),w.observerremover=new d(function(t){t.forEach(function(t){if(0<t.removedNodes.length)for(var e in t.removedNodes)if(t.removedNodes[e]==w.win[0])return w.remove()})}),w.observerremover.observe(w.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(w.bind(w.win,y.isie&&!y.isie9?"propertychange":"DOMAttrModified",w.onAttributeChange),y.isie9&&w.win[0].attachEvent("onpropertychange",w.onAttributeChange),w.bind(w.win,"DOMNodeRemoved",function(t){t.target==w.win[0]&&w.remove()}))),!w.ispage&&w.opt.boxzoom&&w.bind(window,"resize",w.resizeZoom),w.istextarea&&w.bind(w.win,"mouseup",w.lazyResize),w.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var b=function(e){w.iframexd=!1;try{var o="contentDocument"in this?this.contentDocument:this.contentWindow.document}catch(t){w.iframexd=!0,o=!1}if(w.iframexd)return"console"in window&&console.log("NiceScroll error: policy restriced iframe"),!0;w.forcescreen=!0,w.isiframe&&(w.iframe={doc:t(o),html:w.doc.contents().find("html")[0],body:w.doc.contents().find("body")[0]},w.getContentSize=function(){return{w:Math.max(w.iframe.html.scrollWidth,w.iframe.body.scrollWidth),h:Math.max(w.iframe.html.scrollHeight,w.iframe.body.scrollHeight)}},w.docscroll=t(w.iframe.body)),!y.isios&&w.opt.iframeautoresize&&!w.isiframe&&(w.win.scrollTop(0),w.doc.height(""),e=Math.max(o.getElementsByTagName("html")[0].scrollHeight,o.body.scrollHeight),w.doc.height(e)),w.lazyResize(30),y.isie7&&w.css(t(w.iframe.html),{"overflow-y":"hidden"}),w.css(t(w.iframe.body),{"overflow-y":"hidden"}),y.isios&&w.haswrapper&&w.css(t(o.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?w.bind(this.contentWindow,"scroll",w.onscroll):w.bind(o,"scroll",w.onscroll),w.opt.enablemousewheel&&w.bind(o,"mousewheel",w.onmousewheel),w.opt.enablekeyboard&&w.bind(o,y.isopera?"keypress":"keydown",w.onkeypress),(y.cantouch||w.opt.touchbehavior)&&(w.bind(o,"mousedown",w.ontouchstart),w.bind(o,"mousemove",function(t){w.ontouchmove(t,!0)}),w.opt.grabcursorenabled&&y.cursorgrabvalue&&w.css(t(o.body),{cursor:y.cursorgrabvalue})),w.bind(o,"mouseup",w.ontouchend),w.zoom&&(w.opt.dblclickzoom&&w.bind(o,"dblclick",w.doZoom),w.ongesturezoom&&w.bind(o,"gestureend",w.ongesturezoom))};this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){b.call(w.doc[0],!1)},500),w.bind(this.doc,"load",b)}},this.showCursor=function(t,e){w.cursortimeout&&(clearTimeout(w.cursortimeout),w.cursortimeout=0),w.rail&&(w.autohidedom&&(w.autohidedom.stop().css({opacity:w.opt.cursoropacitymax}),w.cursoractive=!0),w.rail.drag&&1==w.rail.drag.pt||(void 0!==t&&!1!==t&&(w.scroll.y=Math.round(1*t/w.scrollratio.y)),void 0!==e&&(w.scroll.x=Math.round(1*e/w.scrollratio.x))),w.cursor.css({height:w.cursorheight,top:w.scroll.y}),w.cursorh&&(!w.rail.align&&w.rail.visibility?w.cursorh.css({width:w.cursorwidth,left:w.scroll.x+w.rail.width}):w.cursorh.css({width:w.cursorwidth,left:w.scroll.x}),w.cursoractive=!0),w.zoom&&w.zoom.stop().css({opacity:w.opt.cursoropacitymax}))},this.hideCursor=function(t){!w.cursortimeout&&w.rail&&w.autohidedom&&(!w.hasmousefocus||"leave"!=w.opt.autohidemode)&&(w.cursortimeout=setTimeout(function(){w.rail.active&&w.showonmouseevent||(w.autohidedom.stop().animate({opacity:w.opt.cursoropacitymin}),w.zoom&&w.zoom.stop().animate({opacity:w.opt.cursoropacitymin}),w.cursoractive=!1),w.cursortimeout=0},t||w.opt.hidecursordelay))},this.noticeCursor=function(t,e,o){w.showCursor(e,o),w.rail.active||w.hideCursor(t)},this.getContentSize=w.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:w.haswrapper?function(){return{w:w.doc.outerWidth()+parseInt(w.win.css("paddingLeft"))+parseInt(w.win.css("paddingRight")),h:w.doc.outerHeight()+parseInt(w.win.css("paddingTop"))+parseInt(w.win.css("paddingBottom"))}}:function(){return{w:w.docscroll[0].scrollWidth,h:w.docscroll[0].scrollHeight}},this.onResize=function(t,e){if(!w||!w.win)return!1;if(!w.haswrapper&&!w.ispage){if("none"==w.win.css("display"))return w.visibility&&w.hideRail().hideRailHr(),!1;!w.hidden&&!w.visibility&&w.showRail().showRailHr()}var o=w.page.maxh,i=w.page.maxw,n=w.view.w;if(w.view={w:w.ispage?w.win.width():parseInt(w.win[0].clientWidth),h:w.ispage?w.win.height():parseInt(w.win[0].clientHeight)},w.page=e||w.getContentSize(),w.page.maxh=Math.max(0,w.page.h-w.view.h),w.page.maxw=Math.max(0,w.page.w-w.view.w),w.page.maxh==o&&w.page.maxw==i&&w.view.w==n){if(w.ispage)return w;if(o=w.win.offset(),w.lastposition&&((i=w.lastposition).top==o.top&&i.left==o.left))return w;w.lastposition=o}return 0==w.page.maxh?(w.hideRail(),w.scrollvaluemax=0,w.scroll.y=0,w.scrollratio.y=0,w.cursorheight=0,w.setScrollTop(0),w.rail.scrollable=!1):w.rail.scrollable=!0,0==w.page.maxw?(w.hideRailHr(),w.scrollvaluemaxw=0,w.scroll.x=0,w.scrollratio.x=0,w.cursorwidth=0,w.setScrollLeft(0),w.railh.scrollable=!1):w.railh.scrollable=!0,w.locked=0==w.page.maxh&&0==w.page.maxw,w.locked?(w.ispage||w.updateScrollBar(w.view),!1):(w.hidden||w.visibility?!w.hidden&&!w.railh.visibility&&w.showRailHr():w.showRail().showRailHr(),w.istextarea&&w.win.css("resize")&&"none"!=w.win.css("resize")&&(w.view.h-=20),w.cursorheight=Math.min(w.view.h,Math.round(w.view.h*(w.view.h/w.page.h))),w.cursorheight=w.opt.cursorfixedheight?w.opt.cursorfixedheight:Math.max(w.opt.cursorminheight,w.cursorheight),w.cursorwidth=Math.min(w.view.w,Math.round(w.view.w*(w.view.w/w.page.w))),w.cursorwidth=w.opt.cursorfixedheight?w.opt.cursorfixedheight:Math.max(w.opt.cursorminheight,w.cursorwidth),w.scrollvaluemax=w.view.h-w.cursorheight-w.cursor.hborder,w.railh&&(w.railh.width=0<w.page.maxh?w.view.w-w.rail.width:w.view.w,w.scrollvaluemaxw=w.railh.width-w.cursorwidth-w.cursorh.wborder),w.ispage||w.updateScrollBar(w.view),w.scrollratio={x:w.page.maxw/w.scrollvaluemaxw,y:w.page.maxh/w.scrollvaluemax},w.getScrollTop()>w.page.maxh?w.doScrollTop(w.page.maxh):(w.scroll.y=Math.round(w.getScrollTop()*(1/w.scrollratio.y)),w.scroll.x=Math.round(w.getScrollLeft()*(1/w.scrollratio.x)),w.cursoractive&&w.noticeCursor()),w.scroll.y&&0==w.getScrollTop()&&w.doScrollTo(Math.floor(w.scroll.y*w.scrollratio.y)),w)},this.resize=w.onResize,this.lazyResize=function(t){return t=isNaN(t)?30:t,w.delayed("resize",w.resize,t),w},this._bind=function(t,e,o,i){w.events.push({e:t,n:e,f:o,b:i,q:!1}),t.addEventListener?t.addEventListener(e,o,i||!1):t.attachEvent?t.attachEvent("on"+e,o):t["on"+e]=o},this.jqbind=function(e,o,i){w.events.push({e:e,n:o,f:i,q:!0}),t(e).bind(o,i)},this.bind=function(t,e,o,i){var n="jquery"in t?t[0]:t;"mousewheel"==e?"onwheel"in w.win?w._bind(n,"wheel",o,i||!1):(t=void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",f(n,t,o,i||!1),"DOMMouseScroll"==t&&f(n,"MozMousePixelScroll",o,i||!1)):n.addEventListener?(y.cantouch&&/mouseup|mousedown|mousemove/.test(e)&&w._bind(n,"mousedown"==e?"touchstart":"mouseup"==e?"touchend":"touchmove",function(t){if(t.touches){if(2>t.touches.length){var e=t.touches.length?t.touches[0]:t;e.original=t,o.call(this,e)}}else t.changedTouches&&((e=t.changedTouches[0]).original=t,o.call(this,e))},i||!1),w._bind(n,e,o,i||!1),y.cantouch&&"mouseup"==e&&w._bind(n,"touchcancel",o,i||!1)):w._bind(n,e,function(t){return(t=t||window.event||!1)&&t.srcElement&&(t.target=t.srcElement),"pageY"in t||(t.pageX=t.clientX+document.documentElement.scrollLeft,t.pageY=t.clientY+document.documentElement.scrollTop),!1!==o.call(n,t)&&!1!==i||w.cancelEvent(t)})},this._unbind=function(t,e,o,i){t.removeEventListener?t.removeEventListener(e,o,i):t.detachEvent?t.detachEvent("on"+e,o):t["on"+e]=!1},this.unbindAll=function(){for(var t=0;t<w.events.length;t++){var e=w.events[t];e.q?e.e.unbind(e.n,e.f):w._unbind(e.e,e.n,e.f,e.b)}},this.cancelEvent=function(t){return!!(t=t.original?t.original:t||(window.event||!1))&&(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.preventManipulation&&t.preventManipulation(),t.cancelBubble=!0,t.cancel=!0,t.returnValue=!1)},this.stopPropagation=function(t){return!!(t=t.original?t.original:t||(window.event||!1))&&(t.stopPropagation?t.stopPropagation():(t.cancelBubble&&(t.cancelBubble=!0),!1))},this.showRail=function(){return 0==w.page.maxh||!w.ispage&&"none"==w.win.css("display")||(w.visibility=!0,w.rail.visibility=!0,w.rail.css("display","block")),w},this.showRailHr=function(){return w.railh?(0==w.page.maxw||!w.ispage&&"none"==w.win.css("display")||(w.railh.visibility=!0,w.railh.css("display","block")),w):w},this.hideRail=function(){return w.visibility=!1,w.rail.visibility=!1,w.rail.css("display","none"),w},this.hideRailHr=function(){return w.railh?(w.railh.visibility=!1,w.railh.css("display","none"),w):w},this.show=function(){return w.hidden=!1,w.locked=!1,w.showRail().showRailHr()},this.hide=function(){return w.hidden=!0,w.locked=!0,w.hideRail().hideRailHr()},this.toggle=function(){return w.hidden?w.show():w.hide()},this.remove=function(){w.stop(),w.cursortimeout&&clearTimeout(w.cursortimeout),w.doZoomOut(),w.unbindAll(),y.isie9&&w.win[0].detachEvent("onpropertychange",w.onAttributeChange),!1!==w.observer&&w.observer.disconnect(),!1!==w.observerremover&&w.observerremover.disconnect(),w.events=null,w.cursor&&w.cursor.remove(),w.cursorh&&w.cursorh.remove(),w.rail&&w.rail.remove(),w.railh&&w.railh.remove(),w.zoom&&w.zoom.remove();for(var e=0;e<w.saved.css.length;e++){var o=w.saved.css[e];o[0].css(o[1],void 0===o[2]?"":o[2])}w.saved=!1,w.me.data("__nicescroll","");var i=t.nicescroll;for(var n in i.each(function(t){if(this&&this.id===w.id){delete i[t];for(var e=++t;e<i.length;e++,t++)i[t]=i[e];i.length--,i.length&&delete i[i.length]}}),w)w[n]=null,delete w[n];w=null},this.scrollstart=function(t){return this.onscrollstart=t,w},this.scrollend=function(t){return this.onscrollend=t,w},this.scrollcancel=function(t){return this.onscrollcancel=t,w},this.zoomin=function(t){return this.onzoomin=t,w},this.zoomout=function(t){return this.onzoomout=t,w},this.isScrollable=function(e){if("OPTION"==(e=e.target?e.target:e).nodeName)return!0;for(;e&&1==e.nodeType&&!/^BODY|HTML/.test(e.nodeName);){var o=(o=t(e)).css("overflowY")||o.css("overflowX")||o.css("overflow")||"";if(/scroll|auto/.test(o))return e.clientHeight!=e.scrollHeight;e=!!e.parentNode&&e.parentNode}return!1},this.getViewport=function(e){for(e=!(!e||!e.parentNode)&&e.parentNode;e&&1==e.nodeType&&!/^BODY|HTML/.test(e.nodeName);){var o=t(e);if(/fixed|absolute/.test(o.css("position")))return o;var i=o.css("overflowY")||o.css("overflowX")||o.css("overflow")||"";if(/scroll|auto/.test(i)&&e.clientHeight!=e.scrollHeight||0<o.getNiceScroll().length)return o;e=!!e.parentNode&&e.parentNode}return!!e&&t(e)},this.triggerScrollEnd=function(){if(w.onscrollend){var t=w.getScrollLeft(),e=w.getScrollTop();w.onscrollend.call(w,{type:"scrollend",current:{x:t,y:e},end:{x:t,y:e}})}},this.onmousewheel=function(t){if(!w.wheelprevented){if(w.locked)return w.debounced("checkunlock",w.resize,250),!0;if(w.rail.drag)return w.cancelEvent(t);if("auto"==w.opt.oneaxismousemode&&0!=t.deltaX&&(w.opt.oneaxismousemode=!1),w.opt.oneaxismousemode&&0==t.deltaX&&!w.rail.scrollable)return!w.railh||!w.railh.scrollable||w.onmousewheelhr(t);var e=+new Date,o=!1;return w.opt.preservenativescrolling&&w.checkarea+600<e&&(w.nativescrollingarea=w.isScrollable(t),o=!0),w.checkarea=e,w.nativescrollingarea?!0:((t=g(t,!1,o))&&(w.checkarea=0),t)}},this.onmousewheelhr=function(t){if(!w.wheelprevented){if(w.locked||!w.railh.scrollable)return!0;if(w.rail.drag)return w.cancelEvent(t);var e=+new Date,o=!1;return w.opt.preservenativescrolling&&w.checkarea+600<e&&(w.nativescrollingarea=w.isScrollable(t),o=!0),w.checkarea=e,!!w.nativescrollingarea||(w.locked?w.cancelEvent(t):g(t,!0,o))}},this.stop=function(){return w.cancelScroll(),w.scrollmon&&w.scrollmon.stop(),w.cursorfreezed=!1,w.scroll.y=Math.round(w.getScrollTop()*(1/w.scrollratio.y)),w.noticeCursor(),w},this.getTransitionSpeed=function(t){var e=Math.round(10*w.opt.scrollspeed);return 20<(t=Math.min(e,Math.round(t/20*w.opt.scrollspeed)))?t:0},w.opt.smoothscroll?w.ishwscroll&&y.hastransition&&w.opt.usetransition?(this.prepareTransition=function(t,e){var o=e?20<t?t:0:w.getTransitionSpeed(t),i=o?y.prefixstyle+"transform "+o+"ms ease-out":"";return w.lasttransitionstyle&&w.lasttransitionstyle==i||(w.lasttransitionstyle=i,w.doc.css(y.transitionstyle,i)),o},this.doScrollLeft=function(t,e){var o=w.scrollrunning?w.newscrolly:w.getScrollTop();w.doScrollPos(t,o,e)},this.doScrollTop=function(t,e){var o=w.scrollrunning?w.newscrollx:w.getScrollLeft();w.doScrollPos(o,t,e)},this.doScrollPos=function(t,e,o){var i=w.getScrollTop(),n=w.getScrollLeft();return(0>(w.newscrolly-i)*(e-i)||0>(w.newscrollx-n)*(t-n))&&w.cancelScroll(),0==w.opt.bouncescroll&&(0>e?e=0:e>w.page.maxh&&(e=w.page.maxh),0>t?t=0:t>w.page.maxw&&(t=w.page.maxw)),(!w.scrollrunning||t!=w.newscrollx||e!=w.newscrolly)&&(w.newscrolly=e,w.newscrollx=t,w.newscrollspeed=o||!1,!w.timer&&void(w.timer=setTimeout(function(){var o,i,n=w.getScrollTop(),r=w.getScrollLeft();o=t-r,i=e-n,o=Math.round(Math.sqrt(Math.pow(o,2)+Math.pow(i,2))),o=w.newscrollspeed&&1<w.newscrollspeed?w.newscrollspeed:w.getTransitionSpeed(o),w.newscrollspeed&&1>=w.newscrollspeed&&(o*=w.newscrollspeed),w.prepareTransition(o,!0),w.timerscroll&&w.timerscroll.tm&&clearInterval(w.timerscroll.tm),0<o&&(!w.scrollrunning&&w.onscrollstart&&w.onscrollstart.call(w,{type:"scrollstart",current:{x:r,y:n},request:{x:t,y:e},end:{x:w.newscrollx,y:w.newscrolly},speed:o}),y.transitionend?w.scrollendtrapped||(w.scrollendtrapped=!0,w.bind(w.doc,y.transitionend,w.onScrollTransitionEnd,!1)):(w.scrollendtrapped&&clearTimeout(w.scrollendtrapped),w.scrollendtrapped=setTimeout(w.onScrollTransitionEnd,o)),w.timerscroll={bz:new BezierClass(n,w.newscrolly,o,0,0,.58,1),bh:new BezierClass(r,w.newscrollx,o,0,0,.58,1)},w.cursorfreezed||(w.timerscroll.tm=setInterval(function(){w.showCursor(w.getScrollTop(),w.getScrollLeft())},60))),w.synched("doScroll-set",function(){w.timer=0,w.scrollendtrapped&&(w.scrollrunning=!0),w.setScrollTop(w.newscrolly),w.setScrollLeft(w.newscrollx),w.scrollendtrapped||w.onScrollTransitionEnd()})},50)))},this.cancelScroll=function(){if(!w.scrollendtrapped)return!0;var t=w.getScrollTop(),e=w.getScrollLeft();return w.scrollrunning=!1,y.transitionend||clearTimeout(y.transitionend),w.scrollendtrapped=!1,w._unbind(w.doc,y.transitionend,w.onScrollTransitionEnd),w.prepareTransition(0),w.setScrollTop(t),w.railh&&w.setScrollLeft(e),w.timerscroll&&w.timerscroll.tm&&clearInterval(w.timerscroll.tm),w.timerscroll=!1,w.cursorfreezed=!1,w.showCursor(t,e),w},this.onScrollTransitionEnd=function(){w.scrollendtrapped&&w._unbind(w.doc,y.transitionend,w.onScrollTransitionEnd),w.scrollendtrapped=!1,w.prepareTransition(0),w.timerscroll&&w.timerscroll.tm&&clearInterval(w.timerscroll.tm),w.timerscroll=!1;var t=w.getScrollTop(),e=w.getScrollLeft();if(w.setScrollTop(t),w.railh&&w.setScrollLeft(e),w.noticeCursor(!1,t,e),w.cursorfreezed=!1,0>t?t=0:t>w.page.maxh&&(t=w.page.maxh),0>e?e=0:e>w.page.maxw&&(e=w.page.maxw),t!=w.newscrolly||e!=w.newscrollx)return w.doScrollPos(e,t,w.opt.snapbackspeed);w.onscrollend&&w.scrollrunning&&w.triggerScrollEnd(),w.scrollrunning=!1}):(this.doScrollLeft=function(t,e){var o=w.scrollrunning?w.newscrolly:w.getScrollTop();w.doScrollPos(t,o,e)},this.doScrollTop=function(t,e){var o=w.scrollrunning?w.newscrollx:w.getScrollLeft();w.doScrollPos(o,t,e)},this.doScrollPos=function(t,e,o){if(e=void 0===e||!1===e?w.getScrollTop(!0):e,w.timer&&w.newscrolly==e&&w.newscrollx==t)return!0;w.timer&&l(w.timer),w.timer=0;var i=w.getScrollTop(),n=w.getScrollLeft();(0>(w.newscrolly-i)*(e-i)||0>(w.newscrollx-n)*(t-n))&&w.cancelScroll(),w.newscrolly=e,w.newscrollx=t,w.bouncescroll&&w.rail.visibility||(0>w.newscrolly?w.newscrolly=0:w.newscrolly>w.page.maxh&&(w.newscrolly=w.page.maxh)),w.bouncescroll&&w.railh.visibility||(0>w.newscrollx?w.newscrollx=0:w.newscrollx>w.page.maxw&&(w.newscrollx=w.page.maxw)),w.dst={},w.dst.x=t-n,w.dst.y=e-i,w.dst.px=n,w.dst.py=i;var r=Math.round(Math.sqrt(Math.pow(w.dst.x,2)+Math.pow(w.dst.y,2)));w.dst.ax=w.dst.x/r,w.dst.ay=w.dst.y/r;var s=0,c=r;if(0==w.dst.x?(s=i,c=e,w.dst.ay=1,w.dst.py=0):0==w.dst.y&&(s=n,c=t,w.dst.ax=1,w.dst.px=0),r=w.getTransitionSpeed(r),o&&1>=o&&(r*=o),w.bzscroll=0<r&&(w.bzscroll?w.bzscroll.update(c,r):new BezierClass(s,c,r,0,1,0,1)),!w.timer){(i==w.page.maxh&&e>=w.page.maxh||n==w.page.maxw&&t>=w.page.maxw)&&w.checkContentSize();var h=1;w.cancelAnimationFrame=!1,w.timer=1,w.onscrollstart&&!w.scrollrunning&&w.onscrollstart.call(w,{type:"scrollstart",current:{x:n,y:i},request:{x:t,y:e},end:{x:w.newscrollx,y:w.newscrolly},speed:r}),function t(){if(w.cancelAnimationFrame)return!0;if(w.scrollrunning=!0,h=1-h)return w.timer=a(t)||1;var e=0,o=sy=w.getScrollTop();if(w.dst.ay){var i=(o=w.bzscroll?w.dst.py+w.bzscroll.getNow()*w.dst.ay:w.newscrolly)-sy;(0>i&&o<w.newscrolly||0<i&&o>w.newscrolly)&&(o=w.newscrolly),w.setScrollTop(o),o==w.newscrolly&&(e=1)}else e=1;var n=sx=w.getScrollLeft();w.dst.ax?((0>(i=(n=w.bzscroll?w.dst.px+w.bzscroll.getNow()*w.dst.ax:w.newscrollx)-sx)&&n<w.newscrollx||0<i&&n>w.newscrollx)&&(n=w.newscrollx),w.setScrollLeft(n),n==w.newscrollx&&(e+=1)):e+=1,2==e?(w.timer=0,w.cursorfreezed=!1,w.bzscroll=!1,w.scrollrunning=!1,0>o?o=0:o>w.page.maxh&&(o=w.page.maxh),0>n?n=0:n>w.page.maxw&&(n=w.page.maxw),n!=w.newscrollx||o!=w.newscrolly?w.doScrollPos(n,o):w.onscrollend&&w.triggerScrollEnd()):w.timer=a(t)||1}(),(i==w.page.maxh&&e>=i||n==w.page.maxw&&t>=n)&&w.checkContentSize(),w.noticeCursor()}},this.cancelScroll=function(){return w.timer&&l(w.timer),w.timer=0,w.bzscroll=!1,w.scrollrunning=!1,w}):(this.doScrollLeft=function(t,e){var o=w.getScrollTop();w.doScrollPos(t,o,e)},this.doScrollTop=function(t,e){var o=w.getScrollLeft();w.doScrollPos(o,t,e)},this.doScrollPos=function(t,e,o){var i=t>w.page.maxw?w.page.maxw:t;0>i&&(i=0);var n=e>w.page.maxh?w.page.maxh:e;0>n&&(n=0),w.synched("scroll",function(){w.setScrollTop(n),w.setScrollLeft(i)})},this.cancelScroll=function(){}),this.doScrollBy=function(t,e){var o=0;o=e?Math.floor((w.scroll.y-t)*w.scrollratio.y):(w.timer?w.newscrolly:w.getScrollTop(!0))-t;if(w.bouncescroll){var i=Math.round(w.view.h/2);o<-i?o=-i:o>w.page.maxh+i&&(o=w.page.maxh+i)}return w.cursorfreezed=!1,py=w.getScrollTop(!0),0>o&&0>=py?w.noticeCursor():o>w.page.maxh&&py>=w.page.maxh?(w.checkContentSize(),w.noticeCursor()):void w.doScrollTop(o)},this.doScrollLeftBy=function(t,e){var o=0;o=e?Math.floor((w.scroll.x-t)*w.scrollratio.x):(w.timer?w.newscrollx:w.getScrollLeft(!0))-t;if(w.bouncescroll){var i=Math.round(w.view.w/2);o<-i?o=-i:o>w.page.maxw+i&&(o=w.page.maxw+i)}if(w.cursorfreezed=!1,px=w.getScrollLeft(!0),0>o&&0>=px||o>w.page.maxw&&px>=w.page.maxw)return w.noticeCursor();w.doScrollLeft(o)},this.doScrollTo=function(t,e){e&&Math.round(t*w.scrollratio.y),w.cursorfreezed=!1,w.doScrollTop(t)},this.checkContentSize=function(){var t=w.getContentSize();(t.h!=w.page.h||t.w!=w.page.w)&&w.resize(!1,t)},w.onscroll=function(t){w.rail.drag||w.cursorfreezed||w.synched("scroll",function(){w.scroll.y=Math.round(w.getScrollTop()*(1/w.scrollratio.y)),w.railh&&(w.scroll.x=Math.round(w.getScrollLeft()*(1/w.scrollratio.x))),w.noticeCursor()})},w.bind(w.docscroll,"scroll",w.onscroll),this.doZoomIn=function(e){if(!w.zoomactive){w.zoomactive=!0,w.zoomrestore={style:{}};var o,i="position top left zIndex backgroundColor marginTop marginBottom marginLeft marginRight".split(" "),n=w.win[0].style;for(o in i){var s=i[o];w.zoomrestore.style[s]=void 0!==n[s]?n[s]:""}return w.zoomrestore.style.width=w.win.css("width"),w.zoomrestore.style.height=w.win.css("height"),w.zoomrestore.padding={w:w.win.outerWidth()-w.win.width(),h:w.win.outerHeight()-w.win.height()},y.isios4&&(w.zoomrestore.scrollTop=t(window).scrollTop(),t(window).scrollTop(0)),w.win.css({position:y.isios4?"absolute":"fixed",top:0,left:0,"z-index":r+100,margin:"0px"}),(""==(i=w.win.css("backgroundColor"))||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(i))&&w.win.css("backgroundColor","#fff"),w.rail.css({"z-index":r+101}),w.zoom.css({"z-index":r+102}),w.zoom.css("backgroundPosition","0px -18px"),w.resizeZoom(),w.onzoomin&&w.onzoomin.call(w),w.cancelEvent(e)}},this.doZoomOut=function(e){if(w.zoomactive)return w.zoomactive=!1,w.win.css("margin",""),w.win.css(w.zoomrestore.style),y.isios4&&t(window).scrollTop(w.zoomrestore.scrollTop),w.rail.css({"z-index":w.zindex}),w.zoom.css({"z-index":w.zindex}),w.zoomrestore=!1,w.zoom.css("backgroundPosition","0px 0px"),w.onResize(),w.onzoomout&&w.onzoomout.call(w),w.cancelEvent(e)},this.doZoom=function(t){return w.zoomactive?w.doZoomOut(t):w.doZoomIn(t)},this.resizeZoom=function(){if(w.zoomactive){var e=w.getScrollTop();w.win.css({width:t(window).width()-w.zoomrestore.padding.w+"px",height:t(window).height()-w.zoomrestore.padding.h+"px"}),w.onResize(),w.setScrollTop(Math.min(w.page.maxh,e))}},this.init(),t.nicescroll.push(this)},m=function(t){var e=this;this.nc=t,this.steptime=this.lasttime=this.speedy=this.speedx=this.lasty=this.lastx=0,this.snapy=this.snapx=!1,this.demuly=this.demulx=0,this.lastscrolly=this.lastscrollx=-1,this.timer=this.chky=this.chkx=0,this.time=function(){return+new Date},this.reset=function(t,o){e.stop();var i=e.time();e.steptime=0,e.lasttime=i,e.speedx=0,e.speedy=0,e.lastx=t,e.lasty=o,e.lastscrollx=-1,e.lastscrolly=-1},this.update=function(t,o){var i=e.time();e.steptime=i-e.lasttime,e.lasttime=i;i=o-e.lasty;var n=t-e.lastx,r=(r=e.nc.getScrollTop())+i,s=(s=e.nc.getScrollLeft())+n;e.snapx=0>s||s>e.nc.page.maxw,e.snapy=0>r||r>e.nc.page.maxh,e.speedx=n,e.speedy=i,e.lastx=t,e.lasty=o},this.stop=function(){e.nc.unsynched("domomentum2d"),e.timer&&clearTimeout(e.timer),e.timer=0,e.lastscrollx=-1,e.lastscrolly=-1},this.doSnapy=function(t,o){var i=!1;0>o?(o=0,i=!0):o>e.nc.page.maxh&&(o=e.nc.page.maxh,i=!0),0>t?(t=0,i=!0):t>e.nc.page.maxw&&(t=e.nc.page.maxw,i=!0),i?e.nc.doScrollPos(t,o,e.nc.opt.snapbackspeed):e.nc.triggerScrollEnd()},this.doMomentum=function(t){var o=e.time(),i=t?o+t:e.lasttime;t=e.nc.getScrollLeft();var n=e.nc.getScrollTop(),r=e.nc.page.maxh,s=e.nc.page.maxw;if(e.speedx=0<s?Math.min(60,e.speedx):0,e.speedy=0<r?Math.min(60,e.speedy):0,i=i&&60>=o-i,(0>n||n>r||0>t||t>s)&&(i=!1),t=!(!e.speedx||!i)&&e.speedx,e.speedy&&i&&e.speedy||t){var a=Math.max(16,e.steptime);50<a&&(t=a/50,e.speedx*=t,e.speedy*=t,a=50),e.demulxy=0,e.lastscrollx=e.nc.getScrollLeft(),e.chkx=e.lastscrollx,e.lastscrolly=e.nc.getScrollTop(),e.chky=e.lastscrolly;var l=e.lastscrollx,c=e.lastscrolly,h=function(){var t=600<e.time()-o?.04:.02;e.speedx&&(l=Math.floor(e.lastscrollx-e.speedx*(1-e.demulxy)),e.lastscrollx=l,0>l||l>s)&&(t=.1),e.speedy&&(c=Math.floor(e.lastscrolly-e.speedy*(1-e.demulxy)),e.lastscrolly=c,0>c||c>r)&&(t=.1),e.demulxy=Math.min(1,e.demulxy+t),e.nc.synched("domomentum2d",function(){e.speedx&&(e.nc.getScrollLeft()!=e.chkx&&e.stop(),e.chkx=l,e.nc.setScrollLeft(l)),e.speedy&&(e.nc.getScrollTop()!=e.chky&&e.stop(),e.chky=c,e.nc.setScrollTop(c)),e.timer||(e.nc.hideCursor(),e.doSnapy(l,c))}),1>e.demulxy?e.timer=setTimeout(h,a):(e.stop(),e.nc.hideCursor(),e.doSnapy(l,c))};h()}else e.doSnapy(e.nc.getScrollLeft(),e.nc.getScrollTop())}},g=t.fn.scrollTop;t.cssHooks.pageYOffset={get:function(e,o,i){return(o=t.data(e,"__nicescroll")||!1)&&o.ishwscroll?o.getScrollTop():g.call(e)},set:function(e,o){var i=t.data(e,"__nicescroll")||!1;return i&&i.ishwscroll?i.setScrollTop(parseInt(o)):g.call(e,o),this}},t.fn.scrollTop=function(e){if(void 0===e){var o=this[0]&&t.data(this[0],"__nicescroll")||!1;return o&&o.ishwscroll?o.getScrollTop():g.call(this)}return this.each(function(){var o=t.data(this,"__nicescroll")||!1;o&&o.ishwscroll?o.setScrollTop(parseInt(e)):g.call(t(this),e)})};var w=t.fn.scrollLeft;t.cssHooks.pageXOffset={get:function(e,o,i){return(o=t.data(e,"__nicescroll")||!1)&&o.ishwscroll?o.getScrollLeft():w.call(e)},set:function(e,o){var i=t.data(e,"__nicescroll")||!1;return i&&i.ishwscroll?i.setScrollLeft(parseInt(o)):w.call(e,o),this}},t.fn.scrollLeft=function(e){if(void 0===e){var o=this[0]&&t.data(this[0],"__nicescroll")||!1;return o&&o.ishwscroll?o.getScrollLeft():w.call(this)}return this.each(function(){var o=t.data(this,"__nicescroll")||!1;o&&o.ishwscroll?o.setScrollLeft(parseInt(e)):w.call(t(this),e)})};var v=function(e){var o=this;if(this.length=0,this.name="nicescrollarray",this.each=function(t){for(var e=0,i=0;e<o.length;e++)t.call(o[e],i++);return o},this.push=function(t){o[o.length]=t,o.length++},this.eq=function(t){return o[t]},e)for(var i=0;i<e.length;i++){var n=t.data(e[i],"__nicescroll")||!1;n&&(this[this.length]=n,this.length++)}return this};!function(t,e,o){for(var i=0;i<e.length;i++)o(t,e[i])}(v.prototype,"show hide toggle onResize resize remove stop doScrollPos".split(" "),function(t,e){t[e]=function(){var t=arguments;return this.each(function(){this[e].apply(this,t)})}}),t.fn.getNiceScroll=function(e){return void 0===e?new v(this):this[e]&&t.data(this[e],"__nicescroll")||!1},t.extend(t.expr[":"],{nicescroll:function(e){return!!t.data(e,"__nicescroll")}}),t.fn.niceScroll=function(e,o){void 0===o&&"object"==typeof e&&!("jquery"in e)&&(o=e,e=!1);var i=new v;void 0===o&&(o={}),e&&(o.doc=t(e),o.win=t(this));var n=!("doc"in o);return!n&&!("win"in o)&&(o.win=t(this)),this.each(function(){var e=t(this).data("__nicescroll")||!1;e||(o.doc=n?t(this):o.doc,e=new f(o,t(this)),t(this).data("__nicescroll",e)),i.push(e)}),1==i.length?i[0]:i},window.NiceScroll={getjQuery:function(){return t}},t.nicescroll||(t.nicescroll=new v,t.nicescroll.options=u)}),function(t){t.fn.matchHeight=function(e){return 1>=this.length?this:(e=void 0===e||e,t.fn.matchHeight._groups.push({elements:this,byRow:e}),t.fn.matchHeight._apply(this,e),this)},t.fn.matchHeight._apply=function(e,n){var r=t(e),s=[r];return n&&(r.css({display:"block","padding-top":"0","padding-bottom":"0","border-top":"0","border-bottom":"0",height:"100px"}),s=o(r),r.css({display:"","padding-top":"","padding-bottom":"","border-top":"","border-bottom":"",height:""})),t.each(s,function(e,o){var n=t(o),r=0;n.each(function(){var e=t(this);e.css({display:"block",height:""}),e.outerHeight(!1)>r&&(r=e.outerHeight(!1))}),n.each(function(){var e=t(this),o=0;"border-box"!==e.css("box-sizing")&&(o+=i(e.css("border-top-width"))+i(e.css("border-bottom-width")),o+=i(e.css("padding-top"))+i(e.css("padding-bottom"))),e.css("height",r-o)})}),this},t.fn.matchHeight._applyDataApi=function(){var e={};t("[data-match-height], [data-mh]").each(function(){var o=t(this),i=o.attr("data-match-height");e[i]=i in e?e[i].add(o):o}),t.each(e,function(){this.matchHeight(!0)})},t.fn.matchHeight._groups=[];var e=-1;t.fn.matchHeight._update=function(o){if(o&&"resize"===o.type){if((o=t(window).width())===e)return;e=o}t.each(t.fn.matchHeight._groups,function(){t.fn.matchHeight._apply(this.elements,this.byRow)})},t(t.fn.matchHeight._applyDataApi),t(window).bind("load resize orientationchange",t.fn.matchHeight._update);var o=function(e){var o=null,n=[];return t(e).each(function(){var e=t(this),r=e.offset().top-i(e.css("margin-top")),s=0<n.length?n[n.length-1]:null;null===s?n.push(e):1>=Math.floor(Math.abs(o-r))?n[n.length-1]=s.add(e):n.push(e),o=r}),n},i=function(t){return parseFloat(t)||0}}(jQuery),function(t,e,o){t.fn.backstretch=function(i,n){return(i===o||0===i.length)&&t.error("No images were supplied for Backstretch"),0===t(e).scrollTop()&&e.scrollTo(0,0),this.each(function(){var e=t(this),o=e.data("backstretch");if(o){if("string"==typeof i&&"function"==typeof o[i])return void o[i](n);n=t.extend(o.options,n),o.destroy(!0)}o=new r(this,i,n),e.data("backstretch",o)})},t.backstretch=function(e,o){return t("body").backstretch(e,o).data("backstretch")},t.expr[":"].backstretch=function(e){return t(e).data("backstretch")!==o},t.fn.backstretch.defaults={centeredX:!0,centeredY:!0,duration:5e3,fade:0};var i={left:0,top:0,overflow:"hidden",margin:0,padding:0,height:"100%",width:"100%",zIndex:-999999},n={position:"absolute",display:"none",margin:0,padding:0,border:"none",width:"auto",height:"auto",maxHeight:"none",maxWidth:"none",zIndex:-999999},r=function(o,n,r){this.options=t.extend({},t.fn.backstretch.defaults,r||{}),this.images=t.isArray(n)?n:[n],t.each(this.images,function(){t("<img />")[0].src=this}),this.isBody=o===document.body,this.$container=t(o),this.$root=this.isBody?t(s?e:document):this.$container,o=this.$container.children(".backstretch").first(),this.$wrap=o.length?o:t('<div class="backstretch"></div>').css(i).appendTo(this.$container),this.isBody||(o=this.$container.css("position"),n=this.$container.css("zIndex"),this.$container.css({position:"static"===o?"relative":o,zIndex:"auto"===n?0:n,background:"none"}),this.$wrap.css({zIndex:-999998})),this.$wrap.css({position:this.isBody&&s?"fixed":"absolute"}),this.index=0,this.show(this.index),t(e).on("resize.backstretch",t.proxy(this.resize,this)).on("orientationchange.backstretch",t.proxy(function(){this.isBody&&0===e.pageYOffset&&(e.scrollTo(0,1),this.resize())},this))};r.prototype={resize:function(){try{var t,o={left:0,top:0},i=this.isBody?this.$root.width():this.$root.innerWidth(),n=i,r=this.isBody?e.innerHeight?e.innerHeight:this.$root.height():this.$root.innerHeight(),s=n/this.$img.data("ratio");s>=r?(t=(s-r)/2,this.options.centeredY&&(o.top="-"+t+"px")):(t=((n=(s=r)*this.$img.data("ratio"))-i)/2,this.options.centeredX&&(o.left="-"+t+"px")),this.$wrap.css({width:i,height:r}).find("img:not(.deleteable)").css({width:n,height:s}).css(o)}catch(t){}return this},show:function(e){if(!(Math.abs(e)>this.images.length-1)){var o=this,i=o.$wrap.find("img").addClass("deleteable"),r={relatedTarget:o.$container[0]};return o.$container.trigger(t.Event("backstretch.before",r),[o,e]),this.index=e,clearInterval(o.interval),o.$img=t("<img />").css(n).bind("load",function(n){var s=this.width||t(n.target).width();n=this.height||t(n.target).height(),t(this).data("ratio",s/n),t(this).fadeIn(o.options.speed||o.options.fade,function(){i.remove(),o.paused||o.cycle(),t(["after","show"]).each(function(){o.$container.trigger(t.Event("backstretch."+this,r),[o,e])})}),o.resize()}).appendTo(o.$wrap),o.$img.attr("src",o.images[e]),o}},next:function(){return this.show(this.index<this.images.length-1?this.index+1:0)},prev:function(){return this.show(0===this.index?this.images.length-1:this.index-1)},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this.next(),this},cycle:function(){return 1<this.images.length&&(clearInterval(this.interval),this.interval=setInterval(t.proxy(function(){this.paused||this.next()},this),this.options.duration)),this},destroy:function(o){t(e).off("resize.backstretch orientationchange.backstretch"),clearInterval(this.interval),o||this.$wrap.remove(),this.$container.removeData("backstretch")}};var s,a=navigator.userAgent,l=navigator.platform,c=!!(c=a.match(/AppleWebKit\/([0-9]+)/))&&c[1],h=!!(h=a.match(/Fennec\/([0-9]+)/))&&h[1],d=a.match(/Opera Mobi\/([0-9]+)/),u=!!d&&d[1],p=!!(p=a.match(/MSIE ([0-9]+)/))&&p[1];s=!((-1<l.indexOf("iPhone")||-1<l.indexOf("iPad")||-1<l.indexOf("iPod"))&&c&&534>c||e.operamini&&"[object OperaMini]"==={}.toString.call(e.operamini)||d&&7458>u||-1<a.indexOf("Android")&&c&&533>c||h&&6>h||"palmGetResource"in e&&c&&534>c||-1<a.indexOf("MeeGo")&&-1<a.indexOf("NokiaBrowser/8.5.0")||p&&6>=p)}(jQuery,window),function(t){t.fn.gMap=function(e,o){switch(e){case"addMarker":return t(this).trigger("gMap.addMarker",[o.latitude,o.longitude,o.content,o.icon,o.popup]);case"centerAt":return t(this).trigger("gMap.centerAt",[o.latitude,o.longitude,o.zoom]);case"clearMarkers":return t(this).trigger("gMap.clearMarkers")}var i=t.extend({},t.fn.gMap.defaults,e);return this.each(function(){var e=new google.maps.Map(this);t(this).data("gMap.reference",e);var o=new google.maps.Geocoder;i.address?o.geocode({address:i.address},function(t){t&&t.length&&e.setCenter(t[0].geometry.location)}):i.latitude&&i.longitude?e.setCenter(new google.maps.LatLng(i.latitude,i.longitude)):t.isArray(i.markers)&&i.markers.length>0?i.markers[0].address?o.geocode({address:i.markers[0].address},function(t){t&&t.length>0&&e.setCenter(t[0].geometry.location)}):e.setCenter(new google.maps.LatLng(i.markers[0].latitude,i.markers[0].longitude)):e.setCenter(new google.maps.LatLng(34.885931,9.84375)),e.setZoom(i.zoom),e.setMapTypeId(google.maps.MapTypeId[i.maptype]);var n={scrollwheel:i.scrollwheel,disableDoubleClickZoom:!i.doubleclickzoom};!1===i.controls?t.extend(n,{disableDefaultUI:!0}):0!==i.controls.length&&t.extend(n,i.controls,{disableDefaultUI:!0}),e.setOptions(n);var r,s,a=new google.maps.Marker;(r=new google.maps.MarkerImage(i.icon.image)).size=new google.maps.Size(i.icon.iconsize[0],i.icon.iconsize[1]),r.anchor=new google.maps.Point(i.icon.iconanchor[0],i.icon.iconanchor[1]),a.setIcon(r),i.icon.shadow&&((s=new google.maps.MarkerImage(i.icon.shadow)).size=new google.maps.Size(i.icon.shadowsize[0],i.icon.shadowsize[1]),s.anchor=new google.maps.Point(i.icon.shadowanchor[0],i.icon.shadowanchor[1]),a.setShadow(s)),t(this).bind("gMap.centerAt",function(t,o,i,n){n&&e.setZoom(n),e.panTo(new google.maps.LatLng(parseFloat(o),parseFloat(i)))});var l,c=[];t(this).bind("gMap.clearMarkers",function(){for(;c[0];)c.pop().setMap(null)}),t(this).bind("gMap.addMarker",function(t,o,n,r,s,h){var d,u,p=new google.maps.LatLng(parseFloat(o),parseFloat(n)),f=new google.maps.Marker({position:p});if(s?((d=new google.maps.MarkerImage(s.image)).size=new google.maps.Size(s.iconsize[0],s.iconsize[1]),d.anchor=new google.maps.Point(s.iconanchor[0],s.iconanchor[1]),f.setIcon(d),s.shadow&&((u=new google.maps.MarkerImage(s.shadow)).size=new google.maps.Size(s.shadowsize[0],s.shadowsize[1]),u.anchor=new google.maps.Point(s.shadowanchor[0],s.shadowanchor[1]),a.setShadow(u))):(f.setIcon(a.getIcon()),f.setShadow(a.getShadow())),r){"_latlng"===r&&(r=o+", "+n);var m=new google.maps.InfoWindow({content:i.html_prepend+r+i.html_append});google.maps.event.addListener(f,"click",function(){l&&l.close(),m.open(e,f),l=m}),h&&google.maps.event.addListenerOnce(e,"tilesloaded",function(){m.open(e,f)})}f.setMap(e),c.push(f)});for(var h,d=this,u=function(e){return function(o){o&&o.length>0&&t(d).trigger("gMap.addMarker",[o[0].geometry.location.lat(),o[0].geometry.location.lng(),e.html,e.icon,e.popup])}},p=0;p<i.markers.length;p++)(h=i.markers[p]).address?("_address"===h.html&&(h.html=h.address),o.geocode({address:h.address},u(h))):t(this).trigger("gMap.addMarker",[h.latitude,h.longitude,h.html,h.icon,h.popup])})},t.fn.gMap.defaults={address:"",latitude:0,longitude:0,zoom:1,markers:[],controls:[],scrollwheel:!1,doubleclickzoom:!0,maptype:"ROADMAP",html_prepend:'<div class="gmap_marker">',html_append:"</div>",icon:{image:"http://www.google.com/mapfiles/marker.png",shadow:"http://www.google.com/mapfiles/shadow50.png",iconsize:[20,34],shadowsize:[37,34],iconanchor:[9,34],shadowanchor:[6,34]}}}(jQuery),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(t,e,o,i,n){return jQuery.easing[jQuery.easing.def](t,e,o,i,n)},easeInQuad:function(t,e,o,i,n){return i*(e/=n)*e+o},easeOutQuad:function(t,e,o,i,n){return-i*(e/=n)*(e-2)+o},easeInOutQuad:function(t,e,o,i,n){return(e/=n/2)<1?i/2*e*e+o:-i/2*(--e*(e-2)-1)+o},easeInCubic:function(t,e,o,i,n){return i*(e/=n)*e*e+o},easeOutCubic:function(t,e,o,i,n){return i*((e=e/n-1)*e*e+1)+o},easeInOutCubic:function(t,e,o,i,n){return(e/=n/2)<1?i/2*e*e*e+o:i/2*((e-=2)*e*e+2)+o},easeInQuart:function(t,e,o,i,n){return i*(e/=n)*e*e*e+o},easeOutQuart:function(t,e,o,i,n){return-i*((e=e/n-1)*e*e*e-1)+o},easeInOutQuart:function(t,e,o,i,n){return(e/=n/2)<1?i/2*e*e*e*e+o:-i/2*((e-=2)*e*e*e-2)+o},easeInQuint:function(t,e,o,i,n){return i*(e/=n)*e*e*e*e+o},easeOutQuint:function(t,e,o,i,n){return i*((e=e/n-1)*e*e*e*e+1)+o},easeInOutQuint:function(t,e,o,i,n){return(e/=n/2)<1?i/2*e*e*e*e*e+o:i/2*((e-=2)*e*e*e*e+2)+o},easeInSine:function(t,e,o,i,n){return-i*Math.cos(e/n*(Math.PI/2))+i+o},easeOutSine:function(t,e,o,i,n){return i*Math.sin(e/n*(Math.PI/2))+o},easeInOutSine:function(t,e,o,i,n){return-i/2*(Math.cos(Math.PI*e/n)-1)+o},easeInExpo:function(t,e,o,i,n){return 0==e?o:i*Math.pow(2,10*(e/n-1))+o},easeOutExpo:function(t,e,o,i,n){return e==n?o+i:i*(1-Math.pow(2,-10*e/n))+o},easeInOutExpo:function(t,e,o,i,n){return 0==e?o:e==n?o+i:(e/=n/2)<1?i/2*Math.pow(2,10*(e-1))+o:i/2*(2-Math.pow(2,-10*--e))+o},easeInCirc:function(t,e,o,i,n){return-i*(Math.sqrt(1-(e/=n)*e)-1)+o},easeOutCirc:function(t,e,o,i,n){return i*Math.sqrt(1-(e=e/n-1)*e)+o},easeInOutCirc:function(t,e,o,i,n){return(e/=n/2)<1?-i/2*(Math.sqrt(1-e*e)-1)+o:i/2*(Math.sqrt(1-(e-=2)*e)+1)+o},easeInElastic:function(t,e,o,i,n){var r=1.70158,s=0,a=i;if(0==e)return o;if(1==(e/=n))return o+i;if(s||(s=.3*n),a<Math.abs(i)){a=i;r=s/4}else r=s/(2*Math.PI)*Math.asin(i/a);return-a*Math.pow(2,10*(e-=1))*Math.sin(2*(e*n-r)*Math.PI/s)+o},easeOutElastic:function(t,e,o,i,n){var r=1.70158,s=0,a=i;if(0==e)return o;if(1==(e/=n))return o+i;if(s||(s=.3*n),a<Math.abs(i)){a=i;r=s/4}else r=s/(2*Math.PI)*Math.asin(i/a);return a*Math.pow(2,-10*e)*Math.sin(2*(e*n-r)*Math.PI/s)+i+o},easeInOutElastic:function(t,e,o,i,n){var r=1.70158,s=0,a=i;if(0==e)return o;if(2==(e/=n/2))return o+i;if(s||(s=.3*n*1.5),a<Math.abs(i)){a=i;r=s/4}else r=s/(2*Math.PI)*Math.asin(i/a);return e<1?-.5*a*Math.pow(2,10*(e-=1))*Math.sin(2*(e*n-r)*Math.PI/s)+o:a*Math.pow(2,-10*(e-=1))*Math.sin(2*(e*n-r)*Math.PI/s)*.5+i+o},easeInBack:function(t,e,o,i,n,r){return null==r&&(r=1.70158),i*(e/=n)*e*((r+1)*e-r)+o},easeOutBack:function(t,e,o,i,n,r){return null==r&&(r=1.70158),i*((e=e/n-1)*e*((r+1)*e+r)+1)+o},easeInOutBack:function(t,e,o,i,n,r){return null==r&&(r=1.70158),(e/=n/2)<1?i/2*e*e*((1+(r*=1.525))*e-r)+o:i/2*((e-=2)*e*((1+(r*=1.525))*e+r)+2)+o},easeInBounce:function(t,e,o,i,n){return i-jQuery.easing.easeOutBounce(t,n-e,0,i,n)+o},easeOutBounce:function(t,e,o,i,n){return(e/=n)<1/2.75?7.5625*i*e*e+o:e<2/2.75?i*(7.5625*(e-=1.5/2.75)*e+.75)+o:e<2.5/2.75?i*(7.5625*(e-=2.25/2.75)*e+.9375)+o:i*(7.5625*(e-=2.625/2.75)*e+.984375)+o},easeInOutBounce:function(t,e,o,i,n){return e<n/2?.5*jQuery.easing.easeInBounce(t,2*e,0,i,n)+o:.5*jQuery.easing.easeOutBounce(t,2*e-n,0,i,n)+.5*i+o}}),function(t){t.fn.flexVerticalCenter=function(e){var o=t.extend({cssAttribute:"margin-top",verticalOffset:0,parentSelector:null,debounceTimeout:25,deferTilWindowLoad:!1},e||{});return this.each(function(){var e,i=t(this),n=function(){var t=o.parentSelector&&i.parents(o.parentSelector).length?i.parents(o.parentSelector).first().height():i.parent().height();i.css(o.cssAttribute,(t-i.height())/2+parseInt(o.verticalOffset)),void 0!==o.complete&&o.complete()};t(window).resize(function(){clearTimeout(e),e=setTimeout(n,o.debounceTimeout)}),o.deferTilWindowLoad||n(),t(window).load(function(){n()})})}}(jQuery);